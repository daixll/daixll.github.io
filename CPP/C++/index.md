---
html:
    toc: true   # æ‰“å¼€ä¾§è¾¹ç›®å½•
export_on_save:
    html: true  # è‡ªåŠ¨ä¿å­˜
---

# å‚è€ƒ

å…³äº C++ çš„å­¦ä¹ å‚

* [cppreference](https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5)ï¼šC++ å‚è€ƒæ‰‹å†Œ

* [Microsoft Visual C++](https://learn.microsoft.com/zh-cn/cpp/cpp/cpp-language-reference?view=msvc-170)ï¼šå¾®è½¯å®˜æ–¹ C++ å‚è€ƒæ‰‹å†Œ


<br>

---

## OOP




<br>

---

# class

> å‡è®¾ï¼Œæˆ‘ä»¬éœ€è¦æ¥å—ä¸€ä¸ªä¸ç¡®å®šçš„è¾“å…¥ï¼Œ
> å¦‚æœè¿™ä¸ªè¾“å…¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¾“å‡ºè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼Œ
> å¦åˆ™ï¼Œä¸è¾“å‡ºã€‚

ä»¥ï¼Œ**é¢å‘è¿‡ç¨‹** çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```cpp
// å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¥å—è¾“å…¥
std::string s;
cin>>s;
// åˆ¤æ–­è¾“å…¥æ˜¯å¦ä¸ºæ•´æ•°
bool isInt = true;
for(int i = 0; i < s.size(); i++)
    if(s[i] < '0' || s[i] > '9'){
        isInt = false;
        break;
    }
// åˆ¤æ–­è¾“å…¥æ˜¯å¦è¶…è¿‡ int çš„èŒƒå›´
if(isInt)
    if(s.size() > 10 || (s.size() == 10 && s > "2147483647"))
        isInt = false;
// è¾“å‡º
if(isInt)
    cout<<s;
else
    cout<<"ä¸æ˜¯æ•´æ•°";
```

ä»¥ï¼Œ**é¢å‘å¯¹è±¡** çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```cpp
Input *userInput = new Input(); // å®šä¹‰ä¸€ä¸ªè¾“å…¥ç±»
userInput->getNum();            // æ¥å—è¾“å…¥
userInput->printNum();          // è¾“å‡º
delete input;                   // é‡Šæ”¾å†…å­˜
```

å¯ä»¥å‘ç°ï¼Œ**é¢å‘å¯¹è±¡** çš„æ€æƒ³ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ã€æ˜“è¯»ã€æ˜“ç»´æŠ¤ã€‚

ä½†è¿™å¹¶ä¸æ„å‘³ç€ï¼Œ**é¢å‘å¯¹è±¡** æ€æƒ³å°±æ˜¯æœ€å¥½çš„ï¼Œåªæ˜¯åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œ**é¢å‘å¯¹è±¡** æ€æƒ³æ›´åŠ é€‚ç”¨ã€‚

äºæ˜¯ C++ å¼•å…¥äº† **ç±»** çš„æ¦‚å¿µï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨ **é¢å‘å¯¹è±¡** æ€æƒ³ã€‚

<br>

ç±»çš„åŸºæœ¬æ€æƒ³æ˜¯ **æ•°æ®æŠ½è±¡** å’Œ **å°è£…**ã€‚
**æ•°æ®æŠ½è±¡** æ˜¯ä¸€ç§ä¾èµ–äº **æ¥å£** å’Œ **å®ç°** åˆ†ç¦»çš„ç¼–ç¨‹ï¼ˆè®¾è®¡ï¼‰æŠ€æœ¯ã€‚

> ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œæ­¤åŠŸèƒ½éœ€è¦
> * è‹¥å¹²ä¸ªå˜é‡
> * è‹¥å¹²ä¸ªå˜é‡éœ€è¦è¿›è¡Œè‹¥å¹²ä¸ªæ“ä½œï¼ˆå‡½æ•°ï¼‰
> 
> äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›å˜é‡å’Œå‡½æ•°å°è£…åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œè¿™æ ·å°±å®ç°äº† **æ•°æ®æŠ½è±¡** å’Œ **å°è£…**ã€‚

> æ›´åŠ å…·ä½“çš„ï¼Œæˆ‘ä»¬è¦è®¾è®¡ä¸€ä¸ªæ°´æ¯ç±»
> * æ°´æ¯æœ‰æ°´é‡
> * æ°´æ¯å¯ä»¥åŠ æ°´
> * æ°´æ¯å¯ä»¥å€’æ°´
> 
> äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°† **æ°´é‡** å’Œ **åŠ æ°´å€’æ°´** å°è£…åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œè¿™æ ·å°±æ˜¯å¯ä»¥éå¸¸æ–¹ä¾¿çš„ä½¿ç”¨è¿™ä¸ªæ°´æ¯äº†ã€‚
> 
> å¯¹äºä½¿ç”¨ç±»çš„æˆ‘ä»¬è€Œè¨€ï¼Œåªéœ€è¦çŸ¥é“æ°´æ¯æœ‰æ°´é‡ï¼Œå¯ä»¥åŠ æ°´å€’æ°´å³å¯ï¼ŒåŠ æ°´å€’æ°´å°±æ˜¯ **æ¥å£**ã€‚
>
> è‡³äºï¼Œè¿™ä¸ªæ°´èƒ½ä¸èƒ½åŠ ï¼Œèƒ½åŠ å¤šå°‘ï¼Œèƒ½å€’å¤šå°‘ï¼Œè¿™äº›éƒ½æ˜¯ **å®ç°**ï¼Œæˆ‘ä»¬ä¸éœ€è¦çŸ¥é“ã€‚

<br>

---

## å°è£…ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ•°æ®ç±»å‹

>å°è£…æ˜¯æŒ‡å°† **æ•°æ®** å’Œ **æ“ä½œæ•°æ®çš„å‡½æ•°** ç»‘å®šåœ¨ä¸€èµ·ï¼Œæ•°æ®è¢«ä¿æŠ¤åœ¨å†…éƒ¨ï¼Œå¤–éƒ¨ç¨‹åºåªèƒ½é€šè¿‡å·²å®šä¹‰çš„æ¥å£è®¿é—®æ•°æ®ï¼Œè¿™æ ·å°±ç¡®ä¿äº†æ•°æ®çš„å®Œæ•´æ€§ã€å®‰å…¨æ€§ã€‚

åœ¨è¿™é‡Œï¼ŒæŠ½è±¡æ•°æ®ç±»å‹ï¼Œå°±æ˜¯ **ç±»**ã€‚



```cpp
// Cup.h
#pragma once

class Cup
{
public:
	Cup(const int w=99);// æ„é€ å‡½æ•°
	~Cup();				// ææ„å‡½æ•°

	int getWater() const;		// å–å¾—æ°´é‡
	void addWater(const int w);	// åŠ æ°´
	void pourWater(const int w);// å€’æ°´
private:
	int* _water;	// æ°´é‡
	int* _volume;	// å®¹é‡
};
```

* `Cup(const int w=99);`
    * `int w`ï¼Œæ­¤å‡½æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ª `int` ç±»å‹çš„å‚æ•°ã€‚
    * `const`ï¼Œæ­¤å‡½æ•°ä¸ä¼šä¿®æ”¹ä¼ å…¥çš„å‚æ•°ã€‚
    * `=99`ï¼Œæ­¤å‡½æ•°çš„é»˜è®¤å‚æ•°ä¸º `99`ï¼Œå¦‚æœä¸ä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨é»˜è®¤å‚æ•°ã€‚

* `int getWater() const;`
    * `int`ï¼Œæ­¤å‡½æ•°è¿”å›ä¸€ä¸ª `int` ç±»å‹çš„å€¼ã€‚
    * `const`ï¼Œæ­¤å‡½æ•°ä¸ä¼šä¿®æ”¹ç±»çš„æˆå‘˜å˜é‡ã€‚

```cpp
// Cup.cpp
#include "Cup.h"

Cup::Cup(const int w) {
	this -> _water = new int;	
	_volume = new int;

	*_water = 0;		// åˆå§‹æ°´é‡ä¸º0
	*_volume = w;		// å®¹é‡ä¸ºw
}

Cup::~Cup() {
	delete _water;		// é‡Šæ”¾æ°´é‡
	delete _volume;		// é‡Šæ”¾å®¹é‡
}

int Cup::getWater() const {
	return *_water;
}

void Cup::addWater(const int w) {
	// åŠ æ°´åŠ åˆ°æœ€å¤§å®¹é‡
	if (*_water + w > *_volume) {
		*_water = *_volume;
		return;
	}
	*_water += w;
}

void Cup::pourWater(const int w) {
	// å€’æ°´å€’åˆ°æœ€å°‘å®¹é‡
	if (*_water - w < 0) {
		*_water = 0;
		return;
	}
	*_water -= w;
}
```

* `this -> _water = new int;`
    * `this` æŒ‡å‘å½“å‰å¯¹è±¡ï¼Œ`this -> _water` æŒ‡å‘å½“å‰å¯¹è±¡çš„ `_water` æˆå‘˜å˜é‡ã€‚
    * å½“æˆ‘ä»¬è°ƒç”¨ `_water` æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨ `this -> _water`ã€‚
    * ä»»ä½•ä¸€ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªéšå«çš„ `this` æŒ‡é’ˆï¼ŒæŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚

```cpp
// main.cpp
#include "Cup.h"
#include <iostream>

int main() {
	Cup* cup = new Cup(100);
	std::cout<<cup->getWater()<<std::endl;
	// è¾“å‡º 0
	cup->addWater(150);
	std::cout<<cup->getWater()<<std::endl;
	// è¾“å‡º 100
	cup->pourWater(50);
	std::cout<<cup->getWater()<<std::endl;
    // è¾“å‡º 50
	delete cup;
	return 0;
}
```

## ç»§æ‰¿ï¼šå®šä¹‰ä¸€ä¸ªåŸºç±»çš„æ´¾ç”Ÿç±»

æˆ‘ä»¬æ›´æƒ³ï¼Œæ¥ä¸€æ¯ **èœœé›ªå†°å†°**ğŸ¥¤ï¼

æˆ‘ä»¬ç®€å•è€ƒè™‘ä¸€ä¸‹ï¼š
| æ°´æ¯ | èœœé›ªå†°å†° |
|:-:|:-:|
| æ°´é‡ | æ°´é‡ |
| åŠ æ°´ | åŠ æ°´ |
| å€’æ°´ | å€’æ°´ |
| - | åŠ æ³¢æ³¢è„† |
| - | åŠ èŠ‹åœ† |
| - | å°æ–™è¡¨ | 

å¯ä»¥å‘ç°ï¼Œèœœé›ªå†°å†°æ˜¯æ°´æ¯çš„ä¸€ç§ï¼Œèœœé›ªå†°å†°ç»§æ‰¿äº†æ°´æ¯çš„æ‰€æœ‰ä¸œè¥¿ï¼ŒåŒæ—¶ï¼Œèœœé›ªå†°å†°è¿˜æœ‰è‡ªå·±çš„ä¸œè¥¿ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦é‡æ–°å®šä¹‰ä¸€ä¸ªèœœé›ªå†°å†°ç±»ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ°´æ¯ç±»çš„æ´¾ç”Ÿç±»ï¼Œå³å¯ã€‚

```cpp
// mxbb.h
#pragma once
#include "Cup.h"
#include <iostream>

class Mxbb : public Cup {

public:
	Mxbb(const int s = 0);
	~Mxbb();
	void addX();		// åŠ å•µå•µè„†
	void addY();		// åŠ èŠ‹åœ†
	void query() const;	// æŸ¥è¯¢å°æ–™æ·»åŠ æƒ…å†µ

private:
	bool* _x;	// å•µå•µè„†
	bool* _y;	// èŠ‹åœ†

	int calc(const int s);	// æ ¹æ®ä¸­å¤§è¶…æ¯è®¡ç®—å®¹é‡
};
```

`class Mxbb : public Cup`
* `Mxbb` ç±»ç»§æ‰¿äº† `Cup` ç±»ã€‚
* `public`ï¼Œç»§æ‰¿æ–¹å¼ä¸ºå…¬æœ‰ç»§æ‰¿ã€‚æ­¤è¯é¢˜æš‚ä¸è®¨è®ºã€‚

```cpp
#include "Mxbb.h"

int Mxbb::calc(const int s) {
    int res = 500;              // ä¸­æ¯å®¹é‡ä¸º500
    if (s == 2) res = 700;      // å¤§æ¯å®¹é‡ä¸º700
    else if (s == 3) res = 1000;// è¶…å¤§æ¯å®¹é‡ä¸º1000
    return res;
}

Mxbb::Mxbb(const int s) : Cup(calc(s)), _x(nullptr), _y(nullptr){
	// å­ç±» æ„é€ å‡½æ•° çš„åˆå§‹åŒ–å·¥ä½œ
    // éœ€è¦æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°

    _x = new bool;
    _y = new bool;
    *_x = false;    // åˆå§‹æ— å•µå•µè„†
    *_y = false;    // åˆå§‹æ— èŠ‹åœ†
}

Mxbb::~Mxbb() {
    // å­ç±» ææ„å‡½æ•° çš„æ¸…ç†å·¥ä½œ
    // ä¸éœ€è¦æ˜¾å¼è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œå®ƒä¼šè‡ªåŠ¨è¢«è°ƒç”¨

    delete _x;
    delete _y;
}

void Mxbb::addX() {
	*_x = true;
}

void Mxbb::addY() {
	*_y = true;
}

void Mxbb::query() const{
	std::cout << "èŠ‹åœ†å¥¶èŒ¶çš„å°æ–™æœ‰";
	if (*_x) std::cout << " å•µå•µè„†";
	if (*_y) std::cout << " èŠ‹åœ†";
	std::cout << std::endl;
}
```

## å…¬æœ‰ã€ç§æœ‰ã€ä¿æŠ¤


## å¤šæ€ï¼šå®šä¹‰ä¸€ä¸ªåŸºç±»çš„è™šå‡½æ•°
 




---

# namespace

**namespaceï¼šå‘½åç©ºé—´**

æœ‰äº†å‘½åç©ºé—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸åŒçš„å‡½æ•°ã€ç±»ã€å˜é‡ç­‰æ”¾åœ¨ä¸åŒçš„å‘½åç©ºé—´ä¸­ï¼Œä»è€Œé¿å…å‘½åå†²çªã€‚

## å‘½åç©ºé—´çš„ä½¿ç”¨

**åœ¨å‡½æ•°ä¸­ä½¿ç”¨**

`jiao` å‘½åç©ºé—´ä¸­æœ‰ä¸€ä¸ª `print` å‡½æ•°ï¼Œ`JIAO` å‘½åç©ºé—´ä¸­ä¹Ÿæœ‰ä¸€ä¸ª `print` å‡½æ•°ã€‚
å‰è€…è¾“å‡º 666ï¼Œåè€…è¾“å‡º 777ã€‚

```cpp
#include <iostream>

namespace jiao {
void print(){
    std::cout<<"666";
}
}

namespace JIAO {
void print(){
    std::cout<<"777";
}
}

int main(){
    jiao::print();  // è¾“å‡º 666
    JIAO::print();  // è¾“å‡º 777
    return 0;
}
```

<br>

**åœ¨ç±»ä¸­ä½¿ç”¨**

`jiao` å‘½åç©ºé—´ä¸­æœ‰ä¸€ä¸ª `A` ç±»ï¼Œ`JIAO` å‘½åç©ºé—´ä¸­ä¹Ÿæœ‰ä¸€ä¸ª `A` ç±»ã€‚
å‰è€…å®ä¾‹åŒ–åè¾“å‡º 666ï¼Œåè€…å®ä¾‹åŒ–åè¾“å‡º 777ã€‚

```cpp
#include <iostream>

namespace jiao {
class A{
public:
    void print(){
        std::cout<<"666";
    }
};
}

namespace JIAO {
class A{
public:
    void print(){
        std::cout<<"777";
    }
};
}

int main(){
    jiao::A a1;
    JIAO::A a2;
    a1.print(); // è¾“å‡º 666
    a2.print(); // è¾“å‡º 777
    return 0;
}
```

<br>

## å‘½åç©ºé—´çš„åµŒå¥—

å‘½åç©ºé—´å…è®¸åµŒå¥—ã€‚

```cpp
#include <iostream>

namespace JIAO{
void p(){
    std::cout<<"555";
}

namespace jiao1{
    void p(){
        std::cout<<"666";
    }
}

namespace jiao2{
    void p(){
        std::cout<<"777";
    }
}
}

int main(){
    JIAO::p();
    JIAO::jiao1::p();
    JIAO::jiao2::p();
    return 0;
}
```

<br>

## å‘½åç©ºé—´å’Œç±»çš„åŒºåˆ«

å¯¹äºç±»è€Œè¨€ï¼š`A` ç±»ä¸­å¯ä»¥æœ‰ `p` å‡½æ•°ï¼Œ`B` ç±»ä¸­å¯ä»¥æœ‰ `p` å‡½æ•°ï¼›
å¯¹äºå‘½åç©ºé—´è€Œè¨€ï¼Œ`A` å‘½åç©ºé—´ä¸­å¯ä»¥æœ‰ `p` å‡½æ•°ï¼Œ`B` å‘½åç©ºé—´ä¸­ä¹Ÿå¯ä»¥æœ‰ `p` å‡½æ•°ã€‚
è¿™ä¿©å€¼å¾—æ¯”è¾ƒä¸€ä¸‹ï¼š

| ç»´åº¦ | å‘½åç©ºé—´ | ç±» |
|:-:|:-:|:-:|
| å®ä¾‹åŒ– | ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œç›´æ¥è®¿é—®å‘½åç©ºé—´ä¸­çš„æˆå‘˜ | éœ€è¦å®ä¾‹åŒ–å¯¹è±¡ï¼Œé€šè¿‡å¯¹è±¡è®¿é—®ç±»çš„æˆå‘˜ |
| å°è£…æ€§ | ä¸å…·å¤‡å°è£…æ€§ï¼Œå‘½åç©ºé—´ä¸­çš„æˆå‘˜é»˜è®¤æ˜¯å…¬æœ‰çš„ | å…·æœ‰å°è£…æ€§ï¼Œç±»çš„æˆå‘˜å¯ä»¥æ˜¯å…¬æœ‰çš„ã€ç§æœ‰çš„ã€æˆ–å—ä¿æŠ¤çš„ | 
| å†…å­˜ç®¡ç† | ä¸éœ€è¦å†…å­˜ç®¡ç†ï¼Œå‘½åç©ºé—´ä¸­çš„æˆå‘˜éƒ½æ˜¯é™æ€çš„ | éœ€è¦å†…å­˜ç®¡ç†ï¼Œç±»çš„æˆå‘˜å¯ä»¥æ˜¯é™æ€çš„ã€ä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ |
| é€‚ç”¨åœºæ™¯ | ç”¨äºç»„ç»‡ä»£ç ã€é¿å…å‘½åå†²çª | ç”¨äºå°è£…æ•°æ®å’Œè¡Œä¸ºã€å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ |

> Qï¼šä¸ºä»€ä¹ˆå‘½åç©ºé—´ä¸­çš„æˆå‘˜éƒ½æ˜¯é™æ€çš„ï¼Ÿ

> Aï¼šå› ä¸ºå‘½åç©ºé—´ä¸­çš„æˆå‘˜éƒ½æ˜¯å…¨å±€çš„ï¼Œå…¨å±€çš„æˆå‘˜éƒ½æ˜¯é™æ€çš„ã€‚
> å› æ­¤ï¼Œå³ä½¿ç±»å®šä¹‰åœ¨å‘½åç©ºé—´ä¸­ï¼Œä½†å®é™…çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æ˜¯ä¸ç±»çš„å®ä¾‹åŒ–ç›¸å…³çš„ï¼Œè€Œä¸æ˜¯ä¸å‘½åç©ºé—´æœ¬èº«ç›¸å…³ã€‚

<br>

## å…³äº cstdio å’Œ stdio.h
 
`cstdio` æ˜¯ C++ æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº† C è¯­è¨€æ ‡å‡†åº“çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°è¢«æ”¾ç½®åœ¨ std å‘½åç©ºé—´ä¸­ã€‚å› æ­¤ï¼Œåœ¨ C++ ä¸­ä½¿ç”¨ `cstdio` æ—¶ï¼Œéœ€è¦åŠ ä¸Š `std::` å‰ç¼€ï¼Œä¾‹å¦‚ `std::printf`ã€`std::fopen`ç­‰ã€‚

`stdio.h` æ˜¯ C è¯­è¨€æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº† C è¯­è¨€æ ‡å‡†åº“çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°è¢«æ”¾ç½®åœ¨å…¨å±€å‘½åç©ºé—´ä¸­ã€‚å› æ­¤ï¼Œåœ¨ C è¯­è¨€ä¸­ä½¿ç”¨ `stdio.h` æ—¶ï¼Œä¸éœ€è¦åŠ ä¸Š `std::` å‰ç¼€ï¼Œä¾‹å¦‚ `printf`ã€`fopen`ç­‰ã€‚

**ä½†æ˜¯**ï¼Œä¸ºäº†ä¿æŒè¯­è¨€çš„å‘åå…¼å®¹æ€§ï¼Œè¿™äº›æ ‡å‡†åº“å‡½æ•°ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å…¨å±€ä½œç”¨åŸŸï¼ˆå³ä¸åŠ  `std::` å‰ç¼€ï¼‰ä¸­ä½¿ç”¨ï¼Œè€Œä¸ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚è¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™çš„ç‰¹æ€§ï¼Œä½†ä¸æ˜¯æ¨èçš„åšæ³•ï¼Œæ›´æ¨èä½¿ç”¨ `std::printf` ç­‰å¸¦æœ‰ `std::` å‰ç¼€çš„å½¢å¼ï¼Œä»¥ç¡®ä¿ä»£ç çš„æ¸…æ™°æ€§å’Œå¯è¯»æ€§ï¼Œé¿å…æ½œåœ¨çš„å‘½åå†²çªé—®é¢˜ã€‚

<br>

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´ `jiao`ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª `printf` å‡½æ•°ï¼Œè¾“å‡º `666`ã€‚
åœ¨ `main` å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº† `jiao` å‘½åç©ºé—´ä¸­çš„ `printf` å‡½æ•°ï¼Œè¾“å‡º `666`ï¼Œ
è°ƒç”¨æ ‡å‡†åº“ä¸­çš„ `std::printf` å‡½æ•°ï¼Œè¾“å‡º `777`ã€‚

```cpp
#include <iostream>
#include <cstdio>

namespace jiao{
    void printf(){
        std::cout<<"666";
    };
}

int main(){
    jiao::printf();     // 666
    std::printf("777"); // 777
    return 0;
}
```

<br>

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰å¼•å…¥ `std` å‘½åç©ºé—´ï¼Œæ‰€ä»¥ `std::printf` ä¼šæŠ¥é”™ã€‚

```cpp
//#include <iostream>   // iostream ä¼šå¼•å…¥ std::printf
#include <stdio.h>      // écstdioï¼Œæ²¡æœ‰å¼•å…¥ std çš„æ¦‚å¿µ

namespace jiao{
    void printf(){
        //std::cout<<"666";
    };
}

int main(){
    jiao::printf();
    printf("777");
    std::printf("888"); // å‘½åç©ºé—´ "std" ä¸­æ²¡æœ‰ "printf"
    return 0;
}
```

<br>

---

# string 


> **å¤‡å¿˜**
> ```cpp
> // i2s
> s = std::to_string(i);
> ```
> ```cpp
> // s2i
> i = std::stoll(s);
> ```

å­—ç¬¦ä¸²å¸¸å¸¸ä¼šæœ‰è¿™å‡ ä¸ªå¤´æ–‡ä»¶ï¼š

```cpp
#include <string>
#include <string.h>
#include <cstring>
```

å¯¹äº `string.h` å’Œ `cstring`ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ C è¯­è¨€ä¸­çš„å¤´æ–‡ä»¶ã€‚
`cstring` ç›¸è¾ƒäº `string.h`ï¼Œå¤šäº†ä¸€ä¸ªå‘½åç©ºé—´ã€‚
å› æ­¤ï¼Œæˆ‘ä»¬åªè®¨è®º `string` å’Œ `cstring`ã€‚

## string

`string` æ“ä½œçš„æ˜¯ C++ ä¸­çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ `std::string`ã€‚

**å€¼å¾—ä¸€æ** çš„æ˜¯ï¼Œæˆ‘ä»¬å¾€å¾€ä¸éœ€è¦å¼•å…¥ `string` å¤´æ–‡ä»¶ï¼Œå› ä¸º `string` å¤´æ–‡ä»¶å·²ç»è¢« `iostream` å¼•å…¥äº†ã€‚

`string` æ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥å®ƒæœ‰æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦ç­‰ç­‰ã€‚

<br>

* æ„é€ å‡½æ•°

```cpp
string s1;          // é»˜è®¤æ„é€ å‡½æ•°ï¼Œs1 ä¸ºç©ºå­—ç¬¦ä¸²
string s2(s1);      // æ‹·è´æ„é€ å‡½æ•°ï¼Œs2 ä¸º s1 çš„æ‹·è´
string s3("hello"); // ç”¨å­—ç¬¦ä¸²åˆå§‹åŒ– s3
string s4(10, 'a'); // ç”¨ 10 ä¸ª 'a' åˆå§‹åŒ– s4
```

* èµ‹å€¼è¿ç®—ç¬¦

```cpp
string s1, s2;
s1 = s2;            // s1 ä¸º s2 çš„æ‹·è´
string s3 = "hello";
s1 = s3;            // s1 ä¸º s3 çš„æ‹·è´
```

* æ¯”è¾ƒè¿ç®—ç¬¦

å…ˆæŒ‰å­—å…¸åºæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œå†æ¯”è¾ƒé•¿åº¦ã€‚

```cpp
string a = "aa";
string b = "ab";
a < b;  // true 
```

```cpp
string a = "bb";
string b = "bba";
a < b;  // true 
```

* æ’å…¥å…ƒç´ 

```cpp
string s = "hello";
s.insert(1, "6");   
// å°† 6 æ’å…¥åˆ° s ä¸‹æ ‡ä¸º 1 çš„ä½ç½®
// è¾“å‡º h6ello
```

* åˆ é™¤å…ƒç´ 

```cpp
string s = "hello";
s.erase(0, 2);      
// å°† s ä¸‹æ ‡ä¸º 0 çš„å­—ç¬¦å¼€å§‹çš„ 2 ä¸ªå­—ç¬¦åˆ é™¤
// è¾“å‡º llo
```

* æ›¿æ¢å…ƒç´ 

```cpp
string s = "hello";
s.replace(0, 2, "6");   
// å°† s ä¸‹æ ‡ä¸º 0 çš„å­—ç¬¦å¼€å§‹çš„ 2 ä¸ªå­—ç¬¦æ›¿æ¢ä¸º 6
// è¾“å‡º 6llo
```

* æŸ¥æ‰¾å…ƒç´ 

```cpp
string s = "hello";
int idx = s.find("ll"); 
// æŸ¥æ‰¾ s ä¸­ç¬¬ä¸€ä¸ª "ll" çš„ä½ç½®ï¼Œè¿”å›ç›®æ ‡å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡
// è¾“å‡º 2
```

* è·å–å­ä¸²

```cpp
string s = "hello";
s.substr(2, 2);     
// è·å– s ä¸­ä¸‹æ ‡ä¸º 2 çš„å­—ç¬¦å¼€å§‹çš„ 2 ä¸ªå­—ç¬¦
// è¾“å‡º ll
```

* è·å–é•¿åº¦

```cpp
string s = "hello";
s.size();           
// è·å– s çš„é•¿åº¦
// è¾“å‡º 5
```

* è½¬æ¢ä¸º C é£æ ¼å­—ç¬¦ä¸²

```cpp
string s = "hello";
s.c_str();          
// å°† s è½¬æ¢ä¸º C é£æ ¼å­—ç¬¦ä¸²
```

* è½¬æ¢ä¸ºæ•´æ•°

```cpp
string s = "123";
stoi(s);            // å°† s è½¬æ¢ä¸ºæ•´æ•°
stoll(s);           // å°† s è½¬æ¢ä¸ºé•¿æ•´æ•°
```

* è½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°

```cpp
string s = "123.456";
stod(s);            // å°† s è½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°
```

<br>

## cstring

`cstring` æ“ä½œçš„æ˜¯ C é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ä»¥ `\0` ç»“å°¾çš„å­—ç¬¦æ•°ç»„ã€‚

C é£æ ¼çš„å­—ç¬¦ä¸²æœ‰ä¸‰ç§å†™æ³•ï¼š

```cpp
int main(){
    char str1[6] = "hello";
    char str2[] = "hello";
    char *str3 = "hello";
}
```

* `str1` 
    æ­¤å†™æ³•ä¼šåœ¨ `str1[5]` çš„ä½ç½®æ’å…¥ `\0`ã€‚
    æ•°æ®ä¿å­˜åœ¨æ ˆä¸­ã€‚

* `str2`
    ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°† `str2` çš„é•¿åº¦è®¾ç½®ä¸º 6ï¼Œä¸”åœ¨ `str2[5]` çš„ä½ç½®æ’å…¥ `\0`ã€‚
    æ•°æ®ä¿å­˜åœ¨æ ˆä¸­ã€‚

* `str3`
    æ­¤å†™æ³•ä¼šåœ¨å¸¸é‡åŒºï¼ˆå¸¸é‡åŒºä¸å¯æ›´æ”¹ï¼‰åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åå°† `str3` æŒ‡å‘è¯¥å­—ç¬¦ä¸²çš„é¦–åœ°å€ã€‚
    æ•°æ®ä¿å­˜åœ¨å¸¸é‡åŒºï¼Œ**`str3` æœ¬èº«** ä¿å­˜åœ¨æ ˆä¸­ã€‚

æ˜¾ç„¶ï¼Œ`str1` å’Œ `str2` æ˜¯ç­‰ä»·çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ•°ç»„åå…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ
æ‰€ä»¥ `str1` å’Œ `str2` éƒ½æ˜¯æŒ‡å‘æ ˆä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è€Œ `str3` åˆ™æ˜¯æŒ‡å‘å¸¸é‡åŒºçš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```cpp
// è¾“å‡ºåœ°å€
for(int i = 0; i < 6; i++) 
    printf("%x %x\n", str1 + i, &str1[i]);
// è¾“å‡ºå†…å®¹
for(int i = 0; i < 6; i++)
    printf("%c %c\n", *(str1 + i), str1[i]);
```

```
19d5f2ec 19d5f2ec
19d5f2ed 19d5f2ed
19d5f2ee 19d5f2ee
19d5f2ef 19d5f2ef
19d5f2f0 19d5f2f0
19d5f2f1 19d5f2f1
h h
e e
l l
l l
o o
NUL NUL
```

å¦‚æœæŠŠ `str3` æŒ‡å‘ `str1`ï¼Œå³ `str3 = str1`ï¼Œé‚£ä¹ˆ `str3` å°±æŒ‡å‘äº†æ ˆä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
ç´§æ¥ç€ï¼Œå°†ä¸Šé¢çš„ä»£ç å¤åˆ¶ï¼Œæ¢æˆ `str3`ï¼Œè¾“å‡ºç»“æœä¸€æ¯›ä¸€æ ·ã€‚

**è¿™å°±æ˜¯ C é£æ ¼çš„å­—ç¬¦ä¸²ã€‚æœ¬è´¨ä¸Šéƒ½æ˜¯æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªè¿ç»­çš„å†…å­˜ç©ºé—´ã€‚**

[èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/cprogramming/c-standard-library-string-h.html) è¯¦ç»†ä»‹ç»äº† `cstring` çš„ç”¨æ³•ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼š

<br>

* `strlen` è·å–å­—ç¬¦ä¸²é•¿åº¦ `size_t strlen(const char *s);`

```cpp
unsigned int len = strlen(str);
```

`strlen` è®¡ç®—ä» `str` å¼€å§‹ï¼Œåˆ° `\0` ç»“æŸçš„é•¿åº¦ã€‚
æ‰€ä»¥ï¼Œå¦‚æœ `str` ä¸­é—´æœ‰ `\0`ï¼Œé‚£ä¹ˆ `strlen` åªä¼šè¿”å›åˆ° `\0` çš„é•¿åº¦ã€‚

å®¹æ˜“æ··æ·†çš„æ˜¯ï¼Œ`sizeof` çš„åŠŸèƒ½æ˜¯è®¡ç®—ä¸€ä¸ªæ•°æ®ç±»å‹çš„å¤§å°ï¼Œè¿™ä¸ªç±»å‹å¯ä»¥æ˜¯æ•°ç»„ã€å‡½æ•°ã€æŒ‡é’ˆã€å¯¹è±¡ç­‰ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚

* `memset` è®¾ç½®å­—ç¬¦ä¸²å†…å®¹ `void *memset(void *s, int c, size_t n);`

```cpp
memset(str, 'a', sizeof str);
```

`memset` æŒ‰å­—èŠ‚å¯¹ `str` è¿›è¡Œåˆå§‹åŒ–ï¼Œ`sizeof str` ä¸º `str` çš„å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚
å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ`memset` çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ `int` ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šåªä¼šå– `char` çš„ä½ 8 ä½ã€‚ 

åœ¨ç®—æ³•ç«èµ›ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šä½¿ç”¨ `memset(g, 0x3f, sizeof g)` æ¥åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ã€‚
å®é™…ä¸Šï¼Œ`0x3f` çš„äºŒè¿›åˆ¶ä¸º `0011 1111`ã€‚`memset` ä¼šå°† `g` çš„æ¯ä¸ªå­—èŠ‚éƒ½è®¾ç½®ä¸º `0011 1111`ã€‚
å‡è®¾ `g` çš„ç±»å‹ä¸º `int`ï¼Œä¸€ä¸ª `int`ï¼Œ4 ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆ `g` ä¸­æ¯ä¸ªå…ƒç´ 

* äºŒè¿›åˆ¶ä¸º `0011 1111 0011 1111 0011 1111 0011 1111`ã€‚
* åè¿›åˆ¶ä¸º `1061109567`ã€‚


```cpp
char *strcpy(char *dest, const char *src);
char *strcat(char *dest, const char *src);
int strcmp(const char *s1, const char *s2);
char *strchr(const char *s, int c);
char *strstr(const char *haystack, const char *needle);
void *memcpy(void *dest, const void *src, size_t n);
```


<br>

---

# stream

æµï¼ŒC++ ä¸­çš„ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œç”¨äºè¡¨ç¤ºæ•°æ®åœ¨ç¨‹åºå’Œå¤–éƒ¨è®¾å¤‡ï¼ˆå¦‚æ–‡ä»¶ã€é”®ç›˜ã€å±å¹•ç­‰ï¼‰ä¹‹é—´çš„æµåŠ¨ã€‚

* **ç¼“å†²åŒº**ï¼šç¼“å†²åŒºæ˜¯ä¸€ä¸ªä¸´æ—¶å­˜å‚¨åŒºåŸŸï¼Œç”¨äºå­˜æ”¾è¾“å…¥è¾“å‡ºçš„æ•°æ®ã€‚
    ç”¨äºå‡å°‘å¯¹è¾“å…¥è¾“å‡ºè®¾å¤‡çš„è®¿é—®æ¬¡æ•°ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ï¼ˆç¼“å†²åŒºæ›´å¿«ï¼Œè¾“å…¥è¾“å‡ºè®¾å¤‡æ›´æ…¢ï¼‰
* **çŠ¶æ€**ï¼šæµå…·æœ‰ä¸åŒçŠ¶æ€ï¼š
    * `good()`ï¼šæµæ­£å¸¸ã€‚
    * `bad()`ï¼šæµå´©æºƒã€‚
    * `fail()`ï¼šæµæ“ä½œå¤±è´¥ã€‚
    * `eof()`ï¼šæµåˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚

    ```cpp
    if(std::cin.good()) std::cout << "good" << std::endl;
    ```

## io stream

`iostream`ï¼šæ ‡å‡†è¾“å…¥è¾“å‡ºæµï¼Œç”¨äºæ§åˆ¶å°è¾“å…¥è¾“å‡ºã€‚

```cpp
std::cin >> x;    // ä»æ§åˆ¶å°è¾“å…¥
std::cout << x ;  // è¾“å‡ºåˆ°æ§åˆ¶å°
```


* è¯»å…¥
    ```cpp
    // 100 a
    int a;
    char c;
    ```

    * `cin`
        ```cpp
        std::cin >> a >> c;
        ```
        æ­£ç¡®è¯»å…¥ï¼Œ`a = 100`ï¼Œ`c = 'a'`ã€‚
    * `scanf`
        ```cpp
        scanf("%d%c", &a, &c);
        ```
        ä¸ç¬¦åˆé¢„æœŸï¼Œ`a = 100`ï¼Œ`c = ' '`ã€‚

* è¾“å‡º
    * `endl`
        ```cpp
        std::cout << a << std::endl;
        ```
        è¾“å‡º `a` å¹¶æ¢è¡Œï¼ŒåŒæ—¶åˆ·æ–°ç¼“å†²åŒºã€‚

        ```cpp
        #include <iostream>
    
        int main(){
            // ç«‹å³è¾“å‡º
            std::cout << "hello" << std::endl;
            // ç¨‹åºè‡ªåŠ¨åˆ¤æ–­ä½•æ—¶è¾“å‡º
            std::cout << "world";

            while(1);
            return 0;
        }
        ```
    
    * `flush`
        ```cpp
        std::cout << a << std::flush;
        std::flush(std::cout);
        ```
        è¾“å‡º `a`ï¼Œä½†ä¸æ¢è¡Œï¼ŒåŒæ—¶åˆ·æ–°ç¼“å†²åŒºã€‚

    * å…³é—­ C / C++ çš„è¾“å…¥è¾“å‡ºåŒæ­¥
        ```cpp
        std::ios::sync_with_stdio(false);        
        ```
        * å…³é—­ä¹‹åï¼Œ`cin` å’Œ `scanf` çš„è¾“å…¥é¡ºåºä¸å†ä¿è¯ä¸€è‡´ã€‚
    
    * å…³é—­ç¼“å†²åŒº
        ```cpp
        std::cin.tie(nullptr); std::cout.tie(nullptr);
        ```
        * ç†è®ºä¸Šï¼Œå…³é—­ä¹‹åï¼Œ`cin` å’Œ `cout` ä¸å†ç»‘å®šï¼Œ`cin` çš„è¾“å…¥ä¸ä¼šåˆ·æ–° `cout` çš„è¾“å‡ºã€‚
                

### iomanip

* `setw` è®¾ç½®å­—æ®µå®½åº¦
    ```cpp
    std::cout << std::setw(5) << 123 << std::endl;
    // "  123"
    ```

* `setfill` è®¾ç½®å¡«å……å­—ç¬¦
    ```cpp
    std::cout << std::setw(5) << std::setfill('G') << 123 << std::endl;
    // "GG123"
    ```

* `fixed` `setprecision` è®¾ç½®æµ®ç‚¹æ•°çš„å°æ•°ç²¾åº¦
    ```cpp
    std::cout << std::setw(5) << std::fixed << std::setprecision(2) << 3.1415926 << std::endl;
    // " 3.14"
    ```

* `left` `right` æ§åˆ¶å­—æ®µä¸­æ•°æ®çš„å¯¹é½æ–¹å¼
    ```cpp
    std::cout << std::setw(5) << std::left << 123 << std::endl;
    // "123  "
    ```

### cerr

`cerr`ï¼šæ ‡å‡†é”™è¯¯æµï¼Œç«‹å³è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¸ä¼šç¼“å†²ã€‚

```cpp
std::cerr << "error" << std::endl;
```

## f stream

`fstream`ï¼šæ–‡ä»¶è¾“å…¥è¾“å‡ºæµï¼Œç”¨äºæ–‡ä»¶è¾“å…¥è¾“å‡ºã€‚

### ifstream

ä»æ–‡ä»¶è¯»å…¥æ•°æ®ã€‚
    
1. æ‰“å¼€æ–‡ä»¶
```cpp
std::ifstream ifs("in.txt");
    
if(!ifs.is_open()){
    std::cerr << "æ‰“å¼€æ–‡ä»¶å¤±è´¥" << std::endl;
    return 1;
}
```

2. è¯»å–æ–‡ä»¶

* æŒ‰ `\n` è¯»å–
    ```cpp
    std::string s;
    while(std::getline(ifs, s))
        std::cout << s << std::endl;
    ```

* æŒ‰ ` ` è¯»å–

    ```cpp
    std::string s;
    while(ifs >> s)
        std::cout << s << std::endl;
    ```

3. ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ

    ```cpp
    ifs.seekg(0, std::ios::beg);    // ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´
    ```

    > ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆè¿˜æœ‰æ›´å¤šç”¨æ³•ã€‚è¯¦è§ [cppreference](https://zh.cppreference.com/w/cpp/io/basic_istream/seekg)ã€‚


3. å…³é—­æ–‡ä»¶

    ```cpp
    ifs.close();
    ```

### ofstream

1. æ‰“å¼€æ–‡ä»¶
    ```cpp
    std::ofstream ofs("out.txt");
    ```

2. å†™å…¥æ–‡ä»¶

    ```cpp
    ofs << "hello" << std::endl;
    ```

3. å…³é—­æ–‡ä»¶

    ```cpp
    ofs.close();
    ```

## s stream

`sstream`ï¼šå­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºæµã€‚æä¾›ä¸€ç§çµæ´»çš„æ–¹å¼ï¼Œå°†å­—ç¬¦ä¸²å½“ä½œæµæ¥å¤„ç†ã€‚

* åˆå§‹åŒ–

    ```cpp
    std::stringstream ss;
    ```

* å†™å…¥

    ```cpp
    ss << "hello";
    ss << 123;
    ss << 3.14;
    ```

* è¯»å–

    ```cpp
    std::string s;
    int a;
    double b;

    ss >> s >> a >> b;
    ```

* è¿›åˆ¶è½¬æ¢

    * `dec` -> `oct` / `hex`
        ```cpp
        std::stringstream ss;
        std::string s;
        int num = 666;

        // å°† num ä»¥å…«è¿›åˆ¶å½¢å¼å†™å…¥ ss
        ss << std::oct << num;
        ss >> s;
        std::cout << s << std::endl;// 1232

        ss.clear();

        // å°† num ä»¥åå…­è¿›åˆ¶å½¢å¼å†™å…¥ ss
        ss << std::hex << num;
        ss >> s;
        std::cout << s << std::endl;// 29a
        ```
    
    * `oct` / `hex` -> `dec`
        ```cpp
        std::string a = "1232";
        std::string b = "29a";
        int num;

        num = std::stoi(a, nullptr, 8);
        std::cout << num << std::endl;  // 666
        
        num = std::stoi(b, nullptr, 16);
        std::cout << num << std::endl;  // 666
        ```

<br>

---

# bitset

å¤„ç†äºŒè¿›åˆ¶ä½çš„ç±»ï¼Œæä¾›äº†ä¸€ç³»åˆ—æˆå‘˜å‡½æ•°æ¥æ‰§è¡Œä½æ“ä½œã€‚
åœ¨ `bitset` ä¸­ï¼Œæ•°æ®ä¿å­˜å½¢å¦‚æ•°ç»„ã€‚

## åˆ›å»º

```cpp
bitset<4> b1;       // é•¿åº¦ä¸º 4ï¼š0000
bitset<8> b2(5);    // é•¿åº¦ä¸º 8ï¼š0000 0101
bitset<8> b3("101");// é•¿åº¦ä¸º 8ï¼š0000 0101

b1.reset();         // å…¨éƒ¨ç½® 0
b1.set();           // å…¨éƒ¨ç½® 1
b1.set(i);          // i ä½ç½® 1
b1.set(i, 0);       // i ä½ç½® 0
```

## è½¬æ¢

```cpp
string a = b1.to_string();
unsigned long long b = b1.to_ullong();
```

## ä½æ“ä½œ

```cpp
bitset<4> b1("1100");
bitset<4> b2("1001");

// æŒ‰ä½å–å
cout << ~b1 << endl;        // 0011
// æŒ‰ä½ä¸
cout << (b1 & b2) << endl;  // 1000
// æŒ‰ä½æˆ–
cout << (b1 | b2) << endl;  // 1101
// æŒ‰ä½å¼‚æˆ–
cout << (b1 ^ b2) << endl;  // 0101
// å³ç§»
cout << (b2 >> 2) << endl;  // 0010
// å·¦ç§»
cout << (b2 << 2) << endl;  // 0100

// æŸä¸€ä½å–å
b1.flip(i);
```

## æˆå‘˜å‡½æ•°

```cpp
bitset<16> b1(6666);    // 0001 1010 0000 1010

// ä½¿ç”¨ [] è¾“å‡º
for(int i=b1.size()-1; i>=0; i--) cout<<b1[i];
cout<<endl;

// ç»Ÿè®¡äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°
cout<<b1.count()<<endl; // 5
// æ±‚bitsetçš„å¤§å°
cout<<b1.size()<<endl;  // 16
// åˆ¤æ–­æŸä½ï¼ˆä»å³åˆ°å·¦ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰æ˜¯å¦ä¸º 1
cout<<b1.test(9)<<endl; // true

// åˆ¤æ–­æ˜¯å¦å…¨ä¸º 0
cout<<b1.none()<<endl;  // 0
// åˆ¤æ–­æ˜¯å¦å…¨ä¸º 1
cout<<b1.all()<<endl;   // 0
// åˆ¤æ–­æ˜¯å¦æœ‰ 1
cout<<b1.any()<<endl;   // 1
```




<br>

---

# regex

[æ­£åˆ™è¡¨è¾¾å¼](/Linux/Regex/index.html) çš„æœ¬è´¨ï¼Œå°±æ˜¯æŸç§ **å­—ç¬¦ç»„åˆ**ã€‚ 

## å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼

```cpp
std::regex r(R"((\d{1,3}\.){3}\d{1,3})");
```

## åˆ¤æ–­ä¸²

ç”¨äºåˆ¤æ–­æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ã€‚

```cpp
std::regex_match("127.0.0.1", r);   // true
std::regex_match("a127.0.0.1", r);  // false
```

## æŸ¥æ‰¾ / å–å‡ºåŒ¹é…å­ä¸²

ç”¨äºæŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ã€‚

1. ä½¿ç”¨ `std::sregex_iterator`

C++ ä¸­ç”¨äºå¤„ç†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœçš„è¿­ä»£å™¨ç±»ã€‚

```cpp
for(auto i=std::sregex_iterator(s.begin(), s.end(), r); i!=std::sregex_iterator(); i++)
    std::cout << (*i).str() << std::endl;
```

2. ä½¿ç”¨ `std::regex_search`

```cpp
std::smatch matches;
while (std::regex_search(s, matches, r)) {
    std::cout << matches.str() << std::endl;
    s = matches.suffix().str(); // è·å–å½“å‰åŒ¹é…å­ä¸²ä¹‹åçš„å­ä¸²
}
```

## æ›¿æ¢åŒ¹é…å­ä¸²

æ›¿æ¢æ‰€æœ‰åŒ¹é…å­ä¸²ï¼š

```cpp
// å°† s ä¸­æ‰€æœ‰åŒ¹é… r çš„å­ä¸²æ›¿æ¢ä¸º "666"ï¼Œä¿å­˜åˆ° ss ä¸­
std::string ss = std::regex_replace(s, r, "sss");
```

æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…å­ä¸²ï¼š

```cpp
// å°† s ä¸­ç¬¬ä¸€ä¸ªåŒ¹é… r çš„å­ä¸²æ›¿æ¢ä¸º "666"ï¼Œä¿å­˜åˆ° ss ä¸­
std::string ss = std::regex_replace(s, r, "666", std::regex_constants::format_first_only);
```


<br>

---

# template

templateï¼šå˜å‚æ•°æ¨¡æ¿ã€‚

## åœ¨å‡½æ•°ä¸­ä½¿ç”¨ template

å¯ä»¥è®©å‡½æ•°æ¥å—ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œè€Œä¸æ˜¯å›ºå®šçš„ç±»å‹ã€‚


```cpp
template<typename T>
void Tswap(T *a, T *b){
    T temp = *a;
    *a = *b;
    *b = temp;
}
```

## åœ¨ç±»ä¸­ä½¿ç”¨ template

å¯ä»¥è®©ç±»æ¥å—ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œè€Œä¸æ˜¯å›ºå®šçš„ç±»å‹ã€‚

```cpp
template<typename T>
class queue {
public:
    void push(T x){
        q[tail++] = x;
    };
    void pop(){
        head++;
    };
    T front(){
        return q[head];
    };
    int size(){
        return this->tail-this->head;
    }
private:
    T q[100];
    int head = 0;
    int tail = 0;
};
```

## variant

åŸºäºæ¨¡æ¿çš„ç±»å‹å®‰å…¨è”åˆã€‚

```cpp
#include <variant>
```

```cpp
std::variant<int, double, std::string> uids;
```

è¾“å‡ºä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥ç±»å‹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

```cpp
uids = 123;
uids = 3.14;
uids = "Hello_world!";

if(std::holds_alternative<int>(uids))
    std::cout << std::get<int>(uids) << std::endl;
else
    // é”™è¯¯å¤„ç†
```

<br>

---

# functional

## lambda

lambdaï¼šåŒ¿åå‡½æ•° / é—­åŒ…ã€‚

å…è®¸åœ¨éœ€è¦å‡½æ•°å¯¹è±¡ï¼ˆæ¯”å¦‚ä¼ é€’ç»™ç®—æ³•ã€STL å®¹å™¨ç­‰ï¼‰çš„åœ°æ–¹ï¼Œä»¥ä¸€ç§æ›´ä¸ºç®€æ´çš„æ–¹å¼å®šä¹‰åŒ¿åå‡½æ•°ã€‚

```cpp
[capture](parameters) -> return_type { body_of_lambda }
```

* captureï¼šæ•è·åˆ—è¡¨ï¼Œæ•è·å¤–éƒ¨å˜é‡ã€‚
* parametersï¼šå‚æ•°åˆ—è¡¨ã€‚
* return_typeï¼šè¿”å›å€¼ç±»å‹ã€‚
* body_of_lambdaï¼šå‡½æ•°ä½“ã€‚

```cpp
#include <iostream>

int main() {
    int x=1;
    int y=2;
     
    // ä½¿ç”¨Lambdaè¡¨è¾¾å¼ç›´æ¥å®šä¹‰å¹¶è°ƒç”¨
    // Lambdaæ•è·x, yå˜é‡ï¼Œå¹¶ä¼ é€’å‚æ•°x+y, y*y
    int result = 
        [x, y](int a, int b) -> int {
            return x + y + a + b;
        }(x+y, y*y); 
    
    std::cout << "Result: " << result << std::endl; // è¾“å‡º 10
    
    return 0;
}
```

```cpp
#include <iostream>
#include <functional>

int main() {
    int x=1;
    int y=2;
    
    std::function<int(int, int)> f = [x, y](int a, int b) -> int{
        return x + y + a + b;
    };

    std::cout << f(x*x, y+y) << std::endl;

    return 0;
}
```

<br>

---


## function

functionï¼šç”¨æ¥åŒ…è£…ä»»ä½•å¯ä»¥è¢«è°ƒç”¨çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡ã€Lambda è¡¨è¾¾å¼ã€æˆå‘˜å‡½æ•°æŒ‡é’ˆç­‰ï¼Œä»è€Œæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†å„ç§å¯è°ƒç”¨å¯¹è±¡ã€‚

```cpp
#include <functional>
std::function<return_type(parameter_types)> function_name;
```

* return_typeï¼šè¿”å›å€¼ç±»å‹ã€‚
* parameter_typesï¼šå‚æ•°ç±»å‹ã€‚
* function_nameï¼šå‡½æ•°åã€‚

**ä½¿ç”¨æˆå‘˜å‡½æ•°æŒ‡é’ˆ**

```cpp
#include <iostream>
#include <functional>

class MyClass {
public:
    int multiply(int a, int b) {
        return a * b;
    }
};

int main() {
    MyClass obj;
    std::function<int(MyClass&, int, int)> func = &MyClass::multiply;
    std::cout << func(obj, 3, 4) << std::endl;  // è¾“å‡º 12
    
    return 0;
}
```

**ä½¿ç”¨å‡½æ•°æŒ‡é’ˆ**

```cpp
#include <iostream>
#include <functional>

int add(int a, int b) {
    return a + b;
}

int main() {
    std::function<int(int, int)> func = add;
    std::cout << func(3, 4) << std::endl;  // è¾“å‡º 7
    
    return 0;
}
```

<br>

---

# ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨

<br>

---

# æ™ºèƒ½æŒ‡é’ˆ

ä¸ºäº†è§£å†³å†…å­˜æ³„æ¼ã€é‡ï¼ˆwildï¼‰æŒ‡é’ˆã€æ‚¬ç©ºï¼ˆdanglingï¼‰æŒ‡é’ˆçš„é—®é¢˜ï¼Œå¼•å…¥äº†æ™ºèƒ½æŒ‡é’ˆã€‚

```cpp
#include <memory>
// unique_ptr
// shared_ptr
// weak_ptr
```

**å†…å­˜æ³„æ¼**

å¯¼è‡´å†…å­˜å ç”¨è¿‡å¤šï¼Œç¨‹åºå´©æºƒã€‚
* ç¨‹åºè¿è¡Œæ—¶ï¼Œç”³è¯·çš„å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾ã€‚æ— æ³•å†æ¬¡ä½¿ç”¨è¯¥å†…å­˜ã€‚
* ä¸¢å¤±äº†æŒ‡å‘è¯¥å†…å­˜çš„æŒ‡é’ˆã€‚æ— æ³•è®¿é—®ã€é‡Šæ”¾è¯¥å†…å­˜ã€‚

**é‡æŒ‡é’ˆ**

å½“ä¸€ä¸ªæŒ‡é’ˆæœªè¢«æ˜¾å¼åˆå§‹åŒ–ï¼Œå®ƒçš„å€¼å°±æ˜¯æœªçŸ¥çš„ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªéšæœºçš„å†…å­˜åœ°å€ï¼Œä¹Ÿå¯èƒ½æ˜¯ç‰¹å®šç¼–è¯‘ç¯å¢ƒä¸‹çš„é»˜è®¤å€¼ï¼ˆé€šå¸¸æ˜¯0æˆ–è€…nullptrï¼‰

**æ‚¬ç©ºæŒ‡é’ˆ**

æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾ï¼Œä½†æ˜¯æŒ‡é’ˆæœ¬èº«æ²¡æœ‰è¢«é‡Šæ”¾ã€‚

* é‡Šæ”¾å†…å­˜åï¼ŒæŒ‡é’ˆæ²¡æœ‰è¢«ç½®ä¸º nullptrã€‚
```cpp
int *ptr = new int; // ç”³è¯·å†…å­˜
delete ptr;         // é‡Šæ”¾å†…å­˜
// ptr å·²ç»æ‚¬ç©º
ptr = nullptr;      // å°† ptr ç½®ä¸º nullptr, ptr æˆç©ºæŒ‡é’ˆ
```

* åœ¨å‡½æ•°ä¸­è¿”å›å±€éƒ¨å˜é‡çš„æŒ‡é’ˆã€‚

```cpp
int *func(){
    int a = 6;      // å±€éƒ¨å˜é‡
    return &a;      // è¿”å›å±€éƒ¨å˜é‡çš„æŒ‡é’ˆ
}
int *ptr = func();  // ptr æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾
// ptr å·²ç»æ‚¬ç©º
```

* åœ¨å‡½æ•°ä¸­è¿”å›æŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆï¼Œä½†æ˜¯æ²¡æœ‰é‡Šæ”¾å †å†…å­˜ã€‚

```cpp
int *func(){
    int *ptr = new int; // ç”³è¯·å†…å­˜
    return ptr;         // è¿”å›æŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆ
}
int *ptr = func();      // ptr æŒ‡å‘çš„å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾
delete ptr;             // é‡Šæ”¾å†…å­˜
// ptr å·²ç»æ‚¬ç©º
ptr = nullptr;          // å°† ptr ç½®ä¸º nullptr, ptr æˆç©ºæŒ‡é’ˆ
```


## unique_ptr

**ç‹¬å æ‰€æœ‰æƒ**ï¼šå½“ `unique_ptr` è¢«é”€æ¯æ—¶ï¼Œå®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚

```cpp
void func(){
    std::unique_ptr<int> ptr = std::make_unique<int>(666);
}
// å½“å‡½æ•°ç»“æŸæ—¶ï¼Œptr è¢«é”€æ¯ï¼Œptr æŒ‡å‘çš„å†…å­˜ä¹Ÿè¢«é”€æ¯
// ä¹Ÿå¯ä»¥æ‰‹åŠ¨é”€æ¯
ptr.reset();        // é”€æ¯ ptr æŒ‡å‘çš„å†…å­˜
ptr.reset(nullptr); // é”€æ¯ ptr æŒ‡å‘çš„å†…å­˜ï¼ˆç­‰ä»·ï¼‰
```

## shared_ptr

**å…±äº«æ‰€æœ‰æƒ**ï¼šå¤šä¸ª `shared_ptr` å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå½“æœ€åä¸€ä¸ª `shared_ptr` è¢«é”€æ¯æ—¶ï¼ˆå¼•ç”¨è®°æ•°ä¸º 0 çš„æ—¶å€™ï¼‰ï¼Œå®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚

```cpp
#include <iostream>
#include <memory>

// é€šè¿‡å¼•ç”¨ä¼ é€’æ™ºèƒ½æŒ‡é’ˆ
// p1 å’Œ p2 æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•°ä¸º2
void f2(std::shared_ptr<int> &p1){
    std::shared_ptr<int> p2 = std::make_shared<int>(666);
    p1=p2;
    // æ­¤æ—¶p2å’Œp1æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•°ä¸º2
    std::cout<<p1.use_count()<<std::endl;
}

// åˆ›å»ºä¸€ä¸ªç©ºçš„æ™ºèƒ½æŒ‡é’ˆï¼Œé€šè¿‡å¼•ç”¨ä¼ é€’ç»™f2å‡½æ•°
void f1(){
    std::shared_ptr<int> p1;
    f2(p1);
    // å½“f2å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œf2å‡½æ•°å†…éƒ¨çš„p2æŒ‡é’ˆè¢«é”€æ¯ï¼Œå¼•ç”¨è®¡æ•°ä¸º1
    std::cout<<p1.use_count()<<std::endl;
    std::cout << *p1 << std::endl;
}

int main(){
    f1();
    return 0;
}
```


## weak_ptr

ä¸ºäº†é¿å… `shared_ptr` çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œå¼•å…¥äº† `weak_ptr`ã€‚

todo

<br>

---

# å¼‚å¸¸å¤„ç†

å¼‚å¸¸æŒ‡çš„æ˜¯ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ï¼Œæ¯”å¦‚é™¤é›¶é”™è¯¯ã€æ•°ç»„è¶Šç•Œç­‰ã€‚

## try catch throw

* `try`
    å°†å¯èƒ½å¼•å‘å¼‚å¸¸çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥å°é—­èµ·æ¥ã€‚
    
    ```cpp
    try{
        // å¯èƒ½å¼•å‘å¼‚å¸¸çš„è¯­å¥
        throw;  // æŠ›å‡ºå¼‚å¸¸
    }catch(...){
        // å¼‚å¸¸å¤„ç†
        throw;  // é‡æ–°æŠ›å‡ºå¼‚å¸¸
    }
    ```


* `catch`
    æ•è·å¼‚å¸¸ï¼Œå¤„ç†å¼‚å¸¸ã€‚

* `throw`
    æŠ›å‡ºå¼‚å¸¸ã€‚



## RAII

RAIIï¼ˆResource Acquisition Is Initializationï¼‰ï¼šèµ„æºè·å–å³åˆå§‹åŒ–ã€‚

RAII çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸä¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œé€šè¿‡å¯¹è±¡çš„ææ„å‡½æ•°æ¥é‡Šæ”¾èµ„æºã€‚

RAII æ˜¯ C++ ä¸­å¸¸ç”¨çš„ä¸€ç§èµ„æºç®¡ç†æ–¹å¼ï¼Œä¹Ÿæ˜¯æ™ºèƒ½æŒ‡é’ˆçš„åŸºæœ¬åŸç†ã€‚

```cpp
#include <iostream>
#include <fstream>
#include <memory>

class File{
public:
    File(const std::string& filename): _filename(filename){
        // æ–‡ä»¶å¯è¯»å†™å¯è¿½åŠ ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º
        _fs = std::make_unique<std::fstream>(_filename, std::ios::in | std::ios::out | std::ios::app);
        // æ‰“å¼€å¤±è´¥
        if(!_fs->is_open())
            throw std::runtime_error("æ–‡ä»¶" + _filename + "æ‰“å¼€å¤±è´¥!");
    };

    // ææ„å‡½æ•°
    ~File(){};

    // è¯»å–æ–‡ä»¶
    void read(){
        _fs->seekg(0, std::ios::beg);   // å®šä½åˆ°æ–‡ä»¶å¤´
        std::string line;
        while(getline(*_fs, line))
            std::cout << line << std::endl;
        
        if(!_fs->eof())
            throw std::runtime_error("è¯»å–" + _filename + "å¤±è´¥!");
    }

    // å†™å…¥æ–‡ä»¶
    void write(const std::string& line){
        *_fs << line;
        
        if(!_fs->good())
            throw std::runtime_error("å†™å…¥" + _filename + "å¤±è´¥!");
    }

private:
    std::string _filename;
    std::unique_ptr<std::fstream> _fs;
};

int main(){
    try{
        File f("t.txt");
        f.write("hello world\n");
        f.read();
    }catch(const std::exception& e){
        // å°è¯•ä¿®å¤
        std::cerr << e.what() << std::endl;
    }

    return 0;
}
```


## æ–­è¨€

æ–­è¨€ï¼ˆAssertionï¼‰æ˜¯åœ¨ç¼–ç¨‹ä¸­ç”¨äºæ£€æŸ¥ç¨‹åºè¿è¡Œæ—¶æ˜¯å¦æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„ä¸€ç§æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ç§ç”¨äºéªŒè¯ç¨‹åºå‡è®¾æ˜¯å¦æ­£ç¡®çš„å£°æ˜ï¼Œé€šå¸¸åœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µä½¿ç”¨ã€‚


```cpp
#include <cassert>
#include <iostream>

int main(){
    int x = 10;
    assert(x < 10); // å¦‚æœx >= 10ï¼Œç¨‹åºä¼šç»ˆæ­¢
    std::cout<<x<<std::endl;
    return 0;
}
```

å¦‚æœåœ¨ç¼–è¯‘æ—¶å®šä¹‰äº† `NDEBUG`ï¼Œé‚£ä¹ˆ `assert` ä¼šè¢«å¿½ç•¥ã€‚

```cpp
#define NDEBUG
```

<br>

---


# STL

**jiao çš„ [CPP_STL](https://github.com/daixll/CPP_STL)**

STLï¼ˆstandard template libraryï¼‰ï¼Œæ³›å‹åº“ã€‚
æä¾›äº†ä¸€ç³»åˆ—çš„æ¨¡æ¿ç±»å’Œæ¨¡æ¿å‡½æ•°ï¼Œæ”¯æŒå¸¸ç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚

## å¦‚æœä½ æœªæ›¾æ¥è§¦è¿‡æ•°æ®ç»“æ„

æˆ‘ä»¬ç®€å•è€ƒè™‘ä¸€ä¸‹ï¼Œè¿™ä¸ªæ•°ç»„ï¼š

```cpp
int a[666];
```

é¦–å…ˆæ˜ç¡®ï¼š

* å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œç³»ç»Ÿä¼šä¸ºæˆ‘ä»¬åˆ†é…ä¸€æ®µ **è¿ç»­** çš„å†…å­˜ç©ºé—´ã€‚
* è€Œæ•°ç»„çš„åå­—ï¼Œå°±æ˜¯è¿™æ®µå†…å­˜ç©ºé—´çš„ **é¦–åœ°å€**ï¼Œè¿™æ®µç©ºé—´çš„ **ç¬¬ä¸€ä¸ª** å…ƒç´ ã€‚
    * è®¿é—®æŸåœ°å€ä¸Šçš„æ•°æ®ï¼Œéœ€è¦è§£å¼•ç”¨ï¼Œå³ `*a`ã€‚
* æ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®¿é—®æ•°ç»„çš„ç¬¬ **2** ä¸ªå…ƒç´ ï¼Œåœ°å€æ˜¯ `a+1`ï¼Œå³ `*(a+1)`ã€‚
    * æˆ‘ä»¬å¸¸ç”¨çš„ `a[i]`ï¼Œå…¶å®å°±æ˜¯ `*(a+i)`ã€‚

å› æ­¤ï¼Œæ€»ç»“ä¸€ä¸‹å…¶ä¼˜ç¼ºç‚¹ï¼š

**ä¼˜ç‚¹**ï¼š

1. å¯ä»¥é€šè¿‡ä¸‹æ ‡ï¼ˆåç§»é‡ï¼‰è®¿é—®å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(1)`ã€‚

**ç¼ºç‚¹**ï¼š

1. å› ä¸ºå£°æ˜æ—¶å°±åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥æ•°ç»„çš„å¤§å°æ˜¯ **å›ºå®š** çš„ã€‚
2. æˆ‘ä»¬æ— æ³•åœ¨æ•°ç»„ä¸­é—´æ’å…¥ï¼ˆåˆ é™¤ï¼‰å…ƒç´ ï¼Œå› ä¸ºè¿™ä¼šç ´åæ•°ç»„çš„è¿ç»­æ€§ã€‚
    * é™¤éæˆ‘ä»¬å°†ç›®æ ‡ **å** çš„å…ƒç´ å…¨éƒ¨åç§»ï¼ˆå‰ç§»ï¼‰ï¼Œç„¶åå†æ’å…¥ï¼ˆåˆ é™¤ï¼‰ã€‚

> äººç”Ÿå¦‚æˆï¼Œæˆ‘ä»¬æ— æ³•æå‰çŸ¥æ™“å®ƒçš„ç¯‡å¹…ï¼Œä¹Ÿä¸çŸ¥å…¶ä½•æ—¶è°¢å¹•ã€‚
> æˆå¦‚äººç”Ÿï¼Œæœ‰äººåœ¨æŸä¸ªç¬é—´æ— å¥ˆç¦»å»ï¼Œè€Œä¹Ÿæœ‰æ–°çš„é¢å­”åœ¨ä¸ç»æ„é—´åŠ å…¥ã€‚

ä¸ºäº†èƒ½å¤Ÿåœ¨æ•°ç»„ä¸­é—´æ’å…¥ï¼ˆåˆ é™¤ï¼‰å…ƒç´ ï¼Œè‚¯å®šéœ€è¦æ‘†è„±æ•°ç»„çš„ **è¿ç»­æ€§**ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæ•°ç»„ä¸­é—´çš„å…ƒç´ ï¼Œæ˜¯é€šè¿‡ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€åŠ ä¸Šåç§»é‡æ¥è®¿é—®çš„ï¼Œä¸€æ—¦è¿™ä¸ªè¿ç»­æ€§è¢«æ‰“ç ´ï¼Œæˆ‘ä»¬å°±æ— æ³•é€šè¿‡åç§»é‡æ¥è®¿é—®å…ƒç´ äº†ã€‚

å› æ­¤ï¼Œå•å‘é“¾è¡¨å°±åº”è¿è€Œç”Ÿäº†ã€‚


## è¿­ä»£å™¨ iterator

è¿­ä»£å™¨æ˜¯ä¸€ç§æ³›å‹æŒ‡é’ˆï¼Œå®ƒå¯ä»¥æŒ‡å‘å®¹å™¨ä¸­çš„å…ƒç´ ã€‚

```cpp
å®¹å™¨::iterator it;
```

å…·ä½“çš„ï¼š

```cpp
vector<int>::iterator it;
unordered_multimap<int, int>::iterator it;
```

### è¿­ä»£å™¨çš„ç±»å‹

* `iterator`ï¼šæ™®é€šè¿­ä»£å™¨ã€‚
* `const_iterator`ï¼šå¸¸é‡è¿­ä»£å™¨ï¼Œåªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚
* `reverse_iterator`ï¼šåå‘è¿­ä»£å™¨ï¼Œä»åå¾€å‰éå†ã€‚
* `const_reverse_iterator`ï¼šå¸¸é‡åå‘è¿­ä»£å™¨ï¼Œä»åå¾€å‰éå†ï¼Œåªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚

> åå‘è¿­ä»£å™¨åªèƒ½ç”¨äºæ”¯æŒåŒå‘è¿­ä»£å™¨çš„å®¹å™¨ï¼Œ`unordered` ç³»åˆ—å®¹å™¨ä¸æ”¯æŒåå‘è¿­ä»£å™¨ã€‚

### è·å–è¿­ä»£å™¨

å®¹å™¨æ‹¥æœ‰ `begin` å’Œ `end` æˆå‘˜å‡½æ•°ï¼Œç”¨äºè·å–è¿­ä»£å™¨ï¼š

* `begin()`ï¼šæŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ­£å‘è¿­ä»£ã€‚
* `cbegin()`ï¼šæŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸”åªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚
* `rbegin()`ï¼šæŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåå‘è¿­ä»£ã€‚
* `crbegin()`ï¼šæŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¸”åªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚

<br>

* `end()`ï¼šæŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ **ä¸‹ä¸€ä¸ª** ä½ç½®ï¼Œæ­£å‘è¿­ä»£ã€‚
* `cend()`ï¼šæŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ **ä¸‹ä¸€ä¸ª** ä½ç½®ï¼Œä¸”åªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚
* `rend()`ï¼šæŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„ **å‰ä¸€ä¸ª** ä½ç½®ï¼Œåå‘è¿­ä»£ã€‚
* `crend()`ï¼šæŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„ **å‰ä¸€ä¸ª** ä½ç½®ï¼Œä¸”åªèƒ½è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚

### æ“ä½œè¿­ä»£å™¨

* `*it`ï¼šè·å–è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ã€‚
    ç‰¹åˆ«çš„ï¼Œè®¿é—®å…ƒç´ çš„æˆå‘˜å˜é‡æ—¶ `(*it).first`ï¼Œå¯ä»¥ç®€å†™ä¸º `it->first`ã€‚
* `it++`ï¼šè¿­ä»£å™¨åç§»ã€‚
* `it--`ï¼šè¿­ä»£å™¨å‰ç§»ã€‚

### èŒƒå›´ for å¾ªç¯

åœ¨ `for` å¾ªç¯ä¸­ï¼Œä½¿ç”¨è¿­ä»£å™¨éå†å®¹å™¨ã€‚

```cpp
for(int i: v)
    cout<<i<<" ";
// i ä¸º v ä¸­çš„æ¯ä¸ªå…ƒç´ 
// å¸¸å¸¸ç®€å†™ä¸º
for(auto i: v)
    cout<<i<<" ";
```

<br>

---


## åºåˆ—å¼å®¹å™¨

æ‰€è°“åºåˆ—å¼å®¹å™¨ï¼Œå…¶ä¸­çš„å…ƒç´  **å¯åº**ï¼Œä½†æœªå¿… **æœ‰åº**ã€‚

<br>

---

### ã€éšæœºã€‘vector

åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒè‡ªåŠ¨æ‰©å®¹ã€‚
å†…å­˜ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æ”¯æŒéšæœºè®¿é—®ï¼Œ
æ•…å…¶è¿­ä»£å™¨æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ã€‚

#### åˆ›å»º

```cpp
vector<int> v1;             // ç©ºæ•°ç»„
vector<int> v2(10);         // 10ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯0
vector<int> v3(10, 1);      // 10ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯1
vector<int> v4(v3);         // æ‹·è´æ„é€ å‡½æ•°
vector<int> v5({1, 2, 3, 4, 5}); // åˆå§‹åŒ–åˆ—è¡¨
```

#### å¢åŠ 

```cpp
v1.push_back(6);            // å°¾éƒ¨æ’å…¥
v1.emplace_back(6);         // å°¾éƒ¨æ’å…¥

v1.insert(v1.begin(), 6);                   // æ’åœ¨ v1.begin() ä¹‹å‰ï¼Œå³å¤´éƒ¨æ’å…¥
v1.insert(v1.begin(), 10, 6);               // æ’åœ¨ v1.begin() ä¹‹å‰ï¼Œå³å¤´éƒ¨æ’å…¥10ä¸ª6
v1.insert(v1.begin(), v2.begin(), v2.end());// æ’å…¥ v2 çš„æ‰€æœ‰å…ƒç´ 
v1.insert(v1.begin(), {1, 2, 3, 4, 5});     // æ’å…¥åˆå§‹åŒ–åˆ—è¡¨

v1.emplace(v1.end(), 6);                    // æ’åœ¨ v1.end() ä¹‹å‰ï¼Œå³å°¾éƒ¨æ’å…¥
v1.emplace(v1.end(), 10, 6);                // æ’åœ¨ v1.end() ä¹‹å‰ï¼Œå³å°¾éƒ¨æ’å…¥10ä¸ª6
v1.emplace(v1.end(), v2.begin(), v2.end()); // æ’å…¥ v2 çš„æ‰€æœ‰å…ƒç´ 
v1.emplace(v1.end(), {1, 2, 3, 4, 5});      // æ’å…¥åˆå§‹åŒ–åˆ—è¡¨
```

> `emplace` å‡½æ•°çš„å‚æ•°æ˜¯æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œè€Œ `insert` å‡½æ•°çš„å‚æ•°æ˜¯å…ƒç´ çš„å€¼ã€‚
>   ```cpp
>   v1.push_back(10)
>   v1.emplace_back(10)
>   ```
>  ä¸Šé¢ä¸¤è¡Œä»£ç çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åœ¨ `v1` çš„å°¾éƒ¨æ’å…¥ä¸€ä¸ªå€¼ä¸º `10` çš„å…ƒç´ ã€‚
>   * `push_back`ï¼šå…ˆåœ¨å†…å­˜ä¸­æ„é€ ä¸€ä¸ª `10`ï¼Œç„¶åå°†å…¶æ‹·è´åˆ° `v1` çš„å°¾éƒ¨ã€‚
>   * `emplace_back`ï¼šç›´æ¥åœ¨ `v1` çš„å°¾éƒ¨æ„é€ ä¸€ä¸ª `10`ã€‚

#### åˆ é™¤

```cpp
v1.clear();                 // æ¸…ç©ºæ•°ç»„

v1.pop_back();              // å°¾éƒ¨åˆ é™¤
v1.erase(v1.begin());       // åˆ é™¤ v1.begin() ä½ç½®çš„å…ƒç´ 
v1.erase(v1.begin(), v1.end()); // åˆ é™¤ [v1.begin(), v1.end()) ä¹‹é—´çš„å…ƒç´ 
```

#### ä¿®æ”¹

```cpp
v1[1] = 6;                  // å°†ä¸‹æ ‡ä¸º 1 çš„å…ƒç´ æ”¹ä¸º 6
v1.at(1) = 6;               // å°†ä¸‹æ ‡ä¸º 1 çš„å…ƒç´ æ”¹ä¸º 6 (è¶Šç•Œä¼šæŠ›å‡ºå¼‚å¸¸)

std::vector<int>::iterator it = v1.begin();
*it = 6;                    // å°† it æŒ‡å‘çš„å…ƒç´ æ”¹ä¸º 6
```

```cpp
// é‡æ–°åˆ†é…å…ƒç´ 
v1.assign(10, 6);            // æ•°ç»„å¤§å°æ”¹ä¸º10ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯6
v1.assign(v2.begin(), v2.end()); // æ‹·è´ v2 çš„æ‰€æœ‰å…ƒç´ 
v1.assign({1, 2, 3, 4, 5});  // æ‹·è´åˆå§‹åŒ–åˆ—è¡¨

// æ›´æ”¹å®¹å™¨å¤§å°
v1.resize(10);              // æ•°ç»„å¤§å°æ”¹ä¸º10ï¼Œå¤šä½™çš„å…ƒç´ è¢«åˆ é™¤ï¼Œä¸è¶³çš„å…ƒç´ è¢«è¡¥ 0
v1.resize(10, 6);           // æ•°ç»„å¤§å°æ”¹ä¸º10ï¼Œå¤šä½™çš„å…ƒç´ è¢«åˆ é™¤ï¼Œä¸è¶³çš„å…ƒç´ è¢«è¡¥ 6
```

#### æŸ¥æ‰¾

```cpp
// v1.find
auto it = v1.find(6);       // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ä¸º 6 çš„å…ƒç´ ï¼Œè¿”å›è¿­ä»£å™¨
if(it != v1.end())          // æ‰¾ä¸åˆ°æ—¶ï¼Œit == v1.end()
    cout<<*it<<endl;        // è¾“å‡º 6

// é€šè¿‡è¿­ä»£å™¨éå†
auto it = v.begin();
while(it != v.end()){
    cout<<*it<<" ";
    it++;
}
// é€šè¿‡ for å¾ªç¯éå†
for(auto i: v) cout<<i<<" ";

v1.empty();                 // åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º
v1.size();                  // è¿”å›æ•°ç»„å¤§å°
v1.max_size();              // è¿”å›æ•°ç»„æœ€å¤§å®¹é‡

v1.front();                 // è¿”å›å¤´éƒ¨å…ƒç´ 
v1.back();                  // è¿”å›å°¾éƒ¨å…ƒç´ 

v1[0];                      // è¿”å›ä¸‹æ ‡ä¸º 0 çš„å…ƒç´ 
v1.at(0);                   // è¿”å›ä¸‹æ ‡ä¸º 0 çš„å…ƒç´  (è¶Šç•Œä¼šæŠ›å‡ºå¼‚å¸¸)

v1.data();                  // è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ
```

#### å…¶ä»–

```cpp
v1.capacity();              // è¿”å›æ•°ç»„å®¹é‡
v1.shrink_to_fit();         // é‡Šæ”¾å¤šä½™çš„ç©ºé—´
v1.reserve(10);             // é¢„ç•™ 10 ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œé¿å…å¤šæ¬¡æ‰©å®¹
```

<br>

---

### ã€éšæœºã€‘deque

```cpp
#include <queue>            // deque å¤´æ–‡ä»¶
```

åœ¨ `vector` çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†åœ¨å¤´éƒ¨æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œã€‚
ç„¶åï¼Œè¿™ä¸ªä¸œè¥¿å°±å«åš **åŒç«¯é˜Ÿåˆ—** äº†ã€‚

```cpp
dq.push_front(6);           // å¤´éƒ¨æ’å…¥
dq.emplace_front(6);        // å¤´éƒ¨æ’å…¥
dq.pop_front();             // å¤´éƒ¨åˆ é™¤
```

<br>

---

### ã€éšæœºã€‘array

å›ºå®šå¤§å°çš„æ•°ç»„ï¼Œè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ”¯æŒéšæœºè®¿é—®ã€‚
å› ä¸ºå›ºå®šå¤§å°ï¼Œæ‰€ä»¥ä¸æ”¯æŒæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œåªèƒ½ä¿®æ”¹å…ƒç´ ã€‚

#### åˆ›å»º

```cpp
array<int, 5> a1;                   // 5ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯0
array<int, 5> a3 = {1, 2, 3, 4, 5}; // åˆå§‹åŒ–åˆ—è¡¨

// ä½¿ç”¨è¿­ä»£å™¨
array<int, 5>::iterator it = a1.begin();
```




<br>

---

### list

åŒå‘é“¾è¡¨ã€‚
å†…å­˜ç©ºé—´ä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œæ•…å…¶è¿­ä»£å™¨æ˜¯åŒå‘è¿­ä»£å™¨ã€‚
å› ä¸ºä¸æ”¯æŒéšæœºè®¿é—®ï¼Œè‹¥æƒ³è¦è®¿é—®ä¸‹æ ‡ä¸º `i` çš„å…ƒç´ ï¼Œåªèƒ½ä»å¤´éƒ¨å¼€å§‹éå†ï¼Œç›´åˆ°éå†åˆ°ä¸‹æ ‡ä¸º `i` çš„å…ƒç´ ï¼ˆæˆ–è€…ä»å°¾éƒ¨å¼€å§‹éå†ï¼‰ã€‚

### forward_list

å•å‘é“¾è¡¨ã€‚
ç›¸è¾ƒäº `list`ï¼Œ`forward_list` åªèƒ½ä»å¤´éƒ¨å¼€å§‹éå†ï¼Œä¸èƒ½ä»å°¾éƒ¨å¼€å§‹éå†ã€‚
ä¹Ÿä¸æ”¯æŒ `size()` å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½è·å–é“¾è¡¨çš„å¤§å°ã€‚
ä¹Ÿä¸æ”¯æŒ `push_back()` å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨å°¾éƒ¨æ’å…¥å…ƒç´ ã€‚
æ”¯æŒå¤´éƒ¨æ’å…¥å…ƒç´ ï¼Œæ‰€ä»¥æœ‰ `push_front()` å‡½æ•°ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œ`forward_list` æ˜¯å¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨ã€‚

#### å¢åŠ 

```cpp
fl1.push_front(0);					// å¤´éƒ¨æ’å…¥
fl1.emplace_front(-1);				// å¤´éƒ¨æ’å…¥
fl1.pop_front();					// å¤´éƒ¨åˆ é™¤

fl1.insert_after(fl1.begin(), 10);	// åœ¨æŒ‡å®šä½ç½®åæ’å…¥
fl1.emplace_after(fl1.begin(), 20); // åœ¨æŒ‡å®šä½ç½®åæ’å…¥
fl1.erase_after(fl1.begin());		// åœ¨æŒ‡å®šä½ç½®ååˆ é™¤
```

<details><summary>å•é“¾è¡¨ï¼ˆCå®ç°ï¼‰</summary>

```cpp
#include <stdio.h>
#include <stdlib.h>

struct node{
	int data;
	node *next;

	void insert_after(int x){
		node *t = (node*)malloc(sizeof(node));	// ç”³è¯·æ–°çš„èŠ‚ç‚¹
		t->data = x;	// æ–°èŠ‚ç‚¹çš„æ•°æ®åŸŸå­˜æ”¾ x
		t->next = next;	// æ–°èŠ‚ç‚¹çš„ next æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ next

		next = t;		// å½“å‰èŠ‚ç‚¹çš„ next æŒ‡å‘æ–°èŠ‚ç‚¹
	}

	void delete_after(){
		node *t = next;	// t æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
		next = t->next;	// å½“å‰èŠ‚ç‚¹çš„ next æŒ‡å‘ t çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
		free(t);		// é‡Šæ”¾ t
	}
};

int main(){
	node *head = (node*)malloc(sizeof(node));
	head->data = 0;		// å¤´èŠ‚ç‚¹çš„æ•°æ®åŸŸä¸å­˜æ”¾æ•°æ®ï¼Œç”¨æ¥å­˜æ”¾é“¾è¡¨çš„é•¿åº¦
	head->next = NULL;	// å¤´èŠ‚ç‚¹çš„ next æŒ‡å‘ NULL

	node *p = head;
	for(int i = 1; i <= 10; i++){
		p->insert_after(i);
		p = p->next;
	}

	printf("é“¾è¡¨ï¼š\n");
	for(p = head->next; p != NULL; p = p->next) printf("%d ", p->data);
	
	p = head;
	p = p->next; p = p->next;
	p->delete_after();
	p->delete_after();

	printf("\nåˆ é™¤ç¬¬3ã€4ä¸ªå…ƒç´ åçš„é“¾è¡¨ï¼š\n");
	for(p = head->next; p != NULL; p = p->next) printf("%d ", p->data);
	
	return 0;
}
```
</details>




<br>

---




### ã€-ã€‘stack

æ ˆ

#### åˆ›å»º

```cpp
stack<int> s1;              // ç©ºæ ˆ
stack<int> s2(s1);          // æ‹·è´æ„é€ å‡½æ•°
stack<int> s3({1,2,3});     // åˆå§‹åŒ–åˆ—è¡¨ï¼Œ1ä¸ºæ ˆåº•ï¼Œ3ä¸ºæ ˆé¡¶
```

#### å¢åŠ 

```cpp
s1.push(6);                 // å…¥æ ˆ
```

#### åˆ é™¤

```cpp
s1.pop();                   // å‡ºæ ˆ
```

#### ä¿®æ”¹

åªèƒ½é€šè¿‡å…¥æ ˆå’Œå‡ºæ ˆæ¥ä¿®æ”¹æ ˆã€‚

#### æŸ¥æ‰¾

```cpp
// éå†æ ˆ ä¼šæ¸…ç©ºæ ˆ
while(!s1.empty()){
    cout<<s1.top()<<" ";
    s1.pop();
}

s1.empty();                 // åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
s1.size();                  // è¿”å›æ ˆå¤§å°
s1.top();                   // è¿”å›æ ˆé¡¶å…ƒç´ 
```

<br>

---

### ã€-ã€‘queue

é˜Ÿåˆ—

#### åˆ›å»º

```cpp
queue<int> q1;              // ç©ºé˜Ÿåˆ—
queue<int> q2(q1);          // æ‹·è´æ„é€ å‡½æ•°
queue<int> q3({1,2,3});     // åˆå§‹åŒ–åˆ—è¡¨ï¼Œ1ä¸ºé˜Ÿå¤´ï¼Œ3ä¸ºé˜Ÿå°¾
```

#### å¢åŠ 

```cpp
q1.push(6);                 // å…¥é˜Ÿ
```

#### åˆ é™¤

```cpp
q1.pop();                   // å‡ºé˜Ÿ
```

#### ä¿®æ”¹

åªèƒ½é€šè¿‡å…¥é˜Ÿå’Œå‡ºé˜Ÿæ¥ä¿®æ”¹é˜Ÿåˆ—ã€‚

#### æŸ¥æ‰¾

```cpp
// éå†é˜Ÿåˆ— ä¼šæ¸…ç©ºé˜Ÿåˆ—
while(!q1.empty()){
    cout<<q1.front()<<" ";
    q1.pop();
}

q1.empty();                 // åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
q1.size();                  // è¿”å›é˜Ÿåˆ—å¤§å°
q1.front();                 // è¿”å›é˜Ÿå¤´å…ƒç´ 
q1.back();                  // è¿”å›é˜Ÿå°¾å…ƒç´ 
```

<br>

---

### ã€-ã€‘priority_queue

ä¼˜å…ˆé˜Ÿåˆ— (å †)

```cpp
#include <queue>   // priority_queue åŒ…å«åœ¨ queue ä¸­
```

#### åˆ›å»º

```cpp
priority_queue<int> p1;     // ç©ºä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤å¤§é¡¶å †
priority_queue<int, vector<int>, greater<int>> a;   // å°é¡¶å †
```

#### å¢åŠ 

```cpp
p1.push(6);                 // å…¥é˜Ÿ
```

#### åˆ é™¤

```cpp
p1.pop();                   // å‡ºé˜Ÿ
```

#### ä¿®æ”¹

æ”¹ä¸äº†ä¸€ç‚¹ã€‚

#### æŸ¥æ‰¾

```cpp
// éå†ä¼˜å…ˆé˜Ÿåˆ— ä¼šæ¸…ç©ºä¼˜å…ˆé˜Ÿåˆ—
// å¦‚æœæ˜¯å¤§é¡¶å †ï¼Œéå†å‡ºæ¥çš„æ˜¯é™åºåºåˆ—
while(!p1.empty()){ 
    cout<<p1.top()<<" ";
    p1.pop();
}

p1.empty();                 // åˆ¤æ–­ä¼˜å…ˆé˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
p1.size();                  // è¿”å›ä¼˜å…ˆé˜Ÿåˆ—å¤§å°
p1.top();                   // è¿”å›é˜Ÿå¤´å…ƒç´ 
```


<br>

---

## å…³è”å¼å®¹å™¨

æ‰€è°“å…³è”å¼å®¹å™¨ï¼Œå°±æ˜¯å°†æ•°æ®å…ƒç´ ç»„ç»‡æˆé”®å€¼å¯¹çš„å®¹å™¨ã€‚

* å…ƒç´ æŒ‰ç…§ä¸€å®šçš„æ’åºè§„åˆ™ç»„ç»‡çš„ï¼Œè€Œä¸æ˜¯åƒé¡ºåºå®¹å™¨é‚£æ ·æŒ‰ç…§å…ƒç´ çš„æ’å…¥é¡ºåºç»„ç»‡çš„ã€‚
* å…³è”å®¹å™¨çš„å…ƒç´ ç±»å‹æ˜¯pairç±»å‹ï¼Œpairç±»å‹çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯é”®å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯å®å€¼ã€‚

### æ ‘

#### äºŒå‰æœç´¢æ ‘ BST

#### å¹³è¡¡äºŒå‰æ ‘ AVLT

#### å¹³è¡¡äºŒå‰æœç´¢æ ‘ BBST

#### çº¢é»‘æ ‘ RBT


### æœ‰åº

map å’Œ set åº•å±‚å®ç°æ˜¯ **çº¢é»‘æ ‘**ï¼Œæ‰€ä»¥å…¶å…ƒç´ æ˜¯æœ‰åºçš„ã€‚

| | map | set |
|:-:|:-:|:-:|
| **å”¯ä¸€** | map | set |
| **å¯é‡** | multimap | multiset |


### set

### multiset

### map

### multimap


### æ— åº

unordered_map å’Œ unordered_set åº•å±‚å®ç°æ˜¯ **å“ˆå¸Œè¡¨**ï¼Œæ‰€ä»¥å…¶å…ƒç´ æ˜¯æ— åºçš„ã€‚

| | unordered_map | unordered_set |
|:-:|:-:|:-:|
| **å”¯ä¸€** | unordered_map | unordered_set |
| **å¯é‡** | unordered_multimap | unordered_multiset |


### unordered_set

### unordered_multiset

### unordered_map

### unordered_multimap


##

### set

é›†åˆ

set çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤ã€‚

set çš„åº•å±‚å®ç°æ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥ set çš„å…ƒç´ æ˜¯æœ‰åºçš„ã€‚

```cpp
#include <set>
```

#### åˆ›å»º

```cpp
set<int> s1;                // å…ƒç´ ç±»å‹æ˜¯ int
set<pair<string, int>> s2;  // å…ƒç´ ç±»å‹æ˜¯ pair ç±»å‹
```

#### å¢åŠ 

```cpp
s.insert(6);                // æ’å…¥å…ƒç´  6
s2.insert({"hello", 6});    // æ’å…¥å…ƒç´  {"hello", 6}
```

#### åˆ é™¤

```cpp
s.clear();                      // æ¸…ç©ºæ‰€æœ‰å…ƒç´ 
s.erase(6);                     // åˆ é™¤å…ƒç´  6
s2.erase({"hello", 6});         // åˆ é™¤å…ƒç´  {"hello", 6}
s.erase(s.begin());             // åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
s.erase(s.begin(), s.end());    // åˆ é™¤æ‰€æœ‰å…ƒç´ 
```

#### ä¿®æ”¹

æ”¹ä¸äº†ã€‚

#### æŸ¥æ‰¾

```cpp
s.find(6);                      // æŸ¥æ‰¾å…ƒç´  6 è¿”å›è¿­ä»£å™¨
s.count(6);                     // æŸ¥æ‰¾å…ƒç´  6 çš„ä¸ªæ•°
s.lower_bound(6);               // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨
s.upper_bound(6);               // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨

auto it = s.equal_range(6);     // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº 6 å’Œ ç¬¬ä¸€ä¸ªå¤§äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨
cout<<(*it.first)<<" "<<(*it.second);

// éå†
for(auto it = s.begin(); it != s.end(); it++) cout<<(*it)<<" ";
for(auto i: s) cout<<i<<" ";
```

### unordered_set

æ— åºé›†åˆ

unordered_set çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤ã€‚

unordered_set çš„åº•å±‚å®ç°æ˜¯å“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥ unordered_set çš„å…ƒç´ æ˜¯æ— åºçš„ã€‚

```cpp
#include <unordered_set>
```

#### åˆ›å»º

```cpp
unordered_set<int> s1;                // å…ƒç´ ç±»å‹æ˜¯ int
unordered_set<pair<string, int>> s2;  // å…ƒç´ ç±»å‹æ˜¯ pair ç±»å‹
```

#### å¢åŠ 

```cpp
s.insert(6);                // æ’å…¥å…ƒç´  6
s2.insert({"hello", 6});    // æ’å…¥å…ƒç´  {"hello", 6}
```

#### åˆ é™¤

```cpp
s.clear();                      // æ¸…ç©ºæ‰€æœ‰å…ƒç´ 
s.erase(6);                     // åˆ é™¤å…ƒç´  6
s2.erase({"hello", 6});         // åˆ é™¤å…ƒç´  {"hello", 6}
s.erase(s.begin());             // åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
s.erase(s.begin(), s.end());    // åˆ é™¤æ‰€æœ‰å…ƒç´ 
```

#### ä¿®æ”¹

æ”¹ä¸äº†ã€‚

#### æŸ¥æ‰¾

```cpp
s.find(6);                      // æŸ¥æ‰¾å…ƒç´  6 è¿”å›è¿­ä»£å™¨
s.count(6);                     // æŸ¥æ‰¾å…ƒç´  6 çš„ä¸ªæ•°
```

### multiset

å¯é‡é›†åˆ

multiset çš„å…ƒç´ æ˜¯å¯ä»¥é‡å¤çš„ã€‚

multiset çš„åº•å±‚å®ç°æ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥ multiset çš„å…ƒç´ æ˜¯æœ‰åºçš„ã€‚

```cpp
#include <set>
```

#### åˆ›å»º

```cpp
multiset<int> s1;                // å…ƒç´ ç±»å‹æ˜¯ int
multiset<pair<string, int>> s2;  // å…ƒç´ ç±»å‹æ˜¯ pair ç±»å‹
```

#### å¢åŠ 

```cpp
s.insert(6);                // æ’å…¥å…ƒç´  6
s2.insert({"hello", 6});    // æ’å…¥å…ƒç´  {"hello", 6}
```

#### åˆ é™¤

```cpp
s.clear();                      // æ¸…ç©ºæ‰€æœ‰å…ƒç´ 
s.erase(6);                     // åˆ é™¤å…ƒç´  6
s2.erase({"hello", 6});         // åˆ é™¤å…ƒç´  {"hello", 6}
s.erase(s.begin());             // åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
s.erase(s.begin(), s.end());    // åˆ é™¤æ‰€æœ‰å…ƒç´ 
```

#### ä¿®æ”¹

æ”¹ä¸äº†ã€‚

#### æŸ¥æ‰¾

```cpp
s.find(6);                      // æŸ¥æ‰¾å…ƒç´  6 è¿”å›è¿­ä»£å™¨
s.count(6);                     // æŸ¥æ‰¾å…ƒç´  6 çš„ä¸ªæ•°
s.lower_bound(6);               // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨
s.upper_bound(6);               // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨

s.equal_range(6);               // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº 6 å’Œ ç¬¬ä¸€ä¸ªå¤§äº 6 çš„å…ƒç´  è¿”å›è¿­ä»£å™¨
// å¦‚æœæ²¡æœ‰å¤§äºç­‰äº 6 çš„å…ƒç´ ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äº 6 çš„å…ƒç´ ï¼Œè¿”å›çš„ä¸¤ä¸ªè¿­ä»£å™¨ç›¸ç­‰
```

### unordered_multiset

```cpp
#include <unordered_set>
```

æ— åºå¯é‡é›†åˆ

unordered_multiset çš„å…ƒç´ æ˜¯å¯ä»¥é‡å¤çš„ã€‚

unordered_multiset çš„åº•å±‚å®ç°æ˜¯å“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥ unordered_multiset çš„å…ƒç´ æ˜¯æ— åºçš„ã€‚

#### åˆ›å»º

```cpp
multiset<int> s1;                // å…ƒç´ ç±»å‹æ˜¯ int
multiset<pair<string, int>> s2;  // å…ƒç´ ç±»å‹æ˜¯ pair ç±»å‹
```

#### å¢åŠ 

#### åˆ é™¤

#### ä¿®æ”¹

#### æŸ¥æ‰¾

---
### map

æ˜ å°„

#### åˆ›å»º

#### å¢åŠ 

#### åˆ é™¤

#### ä¿®æ”¹

#### æŸ¥æ‰¾

### unordered_map

æ— åºæ˜ å°„

#### åˆ›å»º

#### å¢åŠ 

#### åˆ é™¤

#### ä¿®æ”¹

#### æŸ¥æ‰¾

### multimap

å¯é‡æ˜ å°„

#### åˆ›å»º

#### å¢åŠ 

#### åˆ é™¤

#### ä¿®æ”¹

#### æŸ¥æ‰¾

### unordered_multimap

æ— åºå¯é‡æ˜ å°„

#### åˆ›å»º

#### å¢åŠ 

#### åˆ é™¤

#### ä¿®æ”¹

#### æŸ¥æ‰¾
