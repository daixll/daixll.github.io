---
html:
    toc: true   # 打开侧边目录
export_on_save:
    html: true  # 自动保存
---

# 基本数据类型

在 C 中，有以下几种基本数据类型：

## 整型

| 类型 | 字节数 | signed | unsigned |
|:-:|:-:|:-:|:-:|
| `short`    | 2      | \(-2^{15}\) 到 \(2^{15} - 1\) `%hd`  | 0 到 \(2^{16} - 1\) `%hu` |
| `int`      | 4      | \(-2^{31}\) 到 \(2^{31} - 1\) `%d`  | 0 到 \(2^{32} - 1\) `%u` |
| `long long`| 8      | \(-2^{63}\) 到 \(2^{63} - 1\) `%lld`  | 0 到 \(2^{64} - 1\) `%llu`|

特别的，为了兼容性，有了精确宽度整数类型（exact-width integers types）的定义。

`#include <stdint.h>`

| 类型 | 字节数 | signed | unsigned |
|:-:|:-:|:-:|:-:|
|`int8_t`|1| \(-2^{7}\) 到 \(2^{7} - 1\) | 0 到 \(2^{8} - 1\) |
|`int16_t`|2| \(-2^{15}\) 到 \(2^{15} - 1\) | 0 到 \(2^{16} - 1\) |
|`int32_t`|4| \(-2^{31}\) 到 \(2^{31} - 1\) | 0 到 \(2^{32} - 1\) |
|`int64_t`|8| \(-2^{63}\) 到 \(2^{63} - 1\) | 0 到 \(2^{64} - 1\) |

特别的，GCC编译器还支持 `__int128_t` 类型，即128位整型。

遗憾的，因为是编译器扩展，所以不是标准的C语言，无法直接 printf。

## 浮点型

| 类型 | 字节数 | 精度 | 格式化 |
|:-:|:-:|:-:|:-:|
| `float`    | 4      | $10^{-7}$ | `%f` |
| `double`   | 8      | $10^{-15}$ | `%lf` |

## 字符型

| 类型 | 字节数 | 格式化 |
|:-:|:-:|:-:|
| `char` | 1 | `%c` |

常用的 ASCII 码表：

| 字符 | ASCII 码 |
|:-:|:-:|
| `\0`| 0 |
| `0` | 48 |
| `A` | 65 |
| `a` | 97 |

## 指针

指针也是一种数据类型，它用于存储内存地址。

| 类型 | 字节数 | 格式化 |
|:-:|:-:|:-:|
| `void *` | 8 | `%p` |

和其他数据类型一样
* `int` 存储数字
* `char` 存储字符
* `double` 存储浮点数
* **`void *` 存储内存地址**

**那为何有 `char *`、`int *`、`double *` 等类型呢？**
**指明指针指向的数据类型：**
1. 指针的算术操作
    不同类型的指针运算时，步长不同。
    * `char` 占用 1 字节， `char *` 步长为 1。
        ```cpp
        char c = '6';   // c 的地址为 0xa
        char *p = c;    // p 的 值 为 0xa
        p = p + 1;      // p 的 值 为 0xb
        ```

    * `int` 占用 4 字节， `int *` 步长为 4。
        ```cpp
        int i = 6;      // i 的地址为 0x1
        int *p = i;     // p 的 值 为 0x1
        p = p + 1;      // p 的 值 为 0x5
        ```

2. 类型安全
    编译器会在编译时检查指针的类型，
    从而避免不同类型的指针直接赋值或比较，
    确保了在程序中正确使用指针。

```c
#include <stdio.h>

int main(){
    char c = '6';
    char t = '?';
    char *p = &c;

    // 变量 c 的值
    // 变量 c 的地址
    // 指针 p 的值
    // 指针 p 的地址
    // 通过指针 p 访问变量 c 的值
    printf("\nc                &c               p                &p               *p\n");
    printf("%-16c %-16p %-16p %-16p %-16c\n\n", c, &c, p, &p, *p);

    printf("\n                 &c+1             p+1              &p+1             *(p+1)\n");
    printf("%-16c %-16p %-16p %-16p %-16c\n\n", ' ', &c+1, p+1, &p+1, *(p+1));

    scanf("%c", p+1);

    printf("\n                 &c+1             p+1              &p+1             *(p+1)\n");
    printf("%-16c %-16p %-16p %-16p %-16c\n\n", ' ', &c+1, p+1, &p+1, *(p+1));

    printf("%c", t);
}
```

## 聚合类型

聚合类型是由多个基本类型组成的数据类型。

**数组**

数组的本质是一段连续的内存空间，数组名是数组首元素的地址。







**结构体**

* 数组：多个 **相同** 元素的集合
* 结构体：多个 **不同** 的元素的集合

