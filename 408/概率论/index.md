---
html:
    toc: true   # 打开侧边目录
export_on_save:
    html: true  # 自动保存
---


概率论研究 **不确定** 事件发生的 **可能性**。

事件可以推导出概率，概率 **不可以** 推导出事件。

# 概率论的基本概念

## <span style="color:red;">题</span>

### 第一题

## 随机试验

随机试验是指具有以下特点的试验：

1. 可以在相同的条件下重复进行；
2. 试验的结果不止一个，且能事先明确试验的所有可能结果；
3. 进行一次试验之前不能确定哪一个结果会出现。

> 掷骰子、掷硬币、抽签、抽奖、生产产品、检查产品、调查统计等。


## 样本空间 

随机试验的 **所有可能结果组成的集合** 称为随机试验的样本空间，记为 $S$。

集合的全集 -> 事件的所有可能结果 -> 样本空间。

## 随机事件

样本空间 $S$ 的子集称为随机事件。

集合的子集 -> 事件的某些可能结果 -> 随机事件。

## 基本事件

样本空间 $S$ 的单个元素称为基本事件。

集合的单个元素 -> 事件的某一个可能结果 -> 基本事件。

## 必然事件与不可能事件

* 必然事件：样本空间 $S$ 。

* 不可能事件：空集 $\emptyset$ 。

## 事件的关系

* 包含：$A \subset B$，，$B$ 包含 $A$，事件 $A$ 发生必然导致事件 $B$ 发生。

* 并：$A \cup B$，事件 $A$ 与 $B$ 至少发生一个。

* 交：$A \cap B$，事件 $A$ 与 $B$ 同时发生，有时候也称为积，也写作 $AB$。

* 差：$A - B$，事件 $A$ 发生而 $B$ 不发生。

* 互斥：$A \cap B = \emptyset$，事件 $A$ 与 $B$ 不可能同时发生。

* 逆（对立）：$\bar{A}$，事件 $A$ 不发生。

* 互斥：$A \cap \bar{A} = \emptyset$，$A \cup \bar{A} = S$，事件 $A$ 与 $\bar{A}$ 互斥。

## <span style="color:orange;">事件的运算</span>

* 交换律：$A \cup B = B \cup A$，$A \cap B = B \cap A$。
* 结合律：$(A \cup B) \cup C = A \cup (B \cup C)$，$(A \cap B) \cap C = A \cap (B \cap C)$。
* 分配律：$A \cup (B \cap C) = (A \cup B) \cap (A \cup C)$，$A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$。
* 德摩根律：$\overline{A \cup B} = \bar{A} \cap \bar{B}$，$\overline{A \cap B} = \bar{A} \cup \bar{B}$。


## 频率

在相同条件下，进行了 $n$ 次试验，事件 $A$ 发生的次数 $n_A$ 与 $n$ 的比值。

## <span style="color:orange;">概率</span>

事件 $A$ 发生的可能性大小的度量，记为 $P(A)$。

性质：

* 非负性：$P(A) \geq 0$。
* 规范性：$P(S) = 1$。
* 可列可加性：若 $A_1, A_2, \cdots$ 两两互斥，则 $P(\bigcup_{i=1}^{\infty} A_i) = \sum_{i=1}^{\infty} P(A_i)$。

根据性质拓展：

* $P(\emptyset) = 0$。
* $P(\bar{A}) = 1 - P(A)$。
* 若 $A \subset B$，则 $P(A) \leq P(B)$，有 $P(B - A) = P(B) - P(A)$。
* <span style="color:red;">$P(A \cup B) = P(A) + P(B) - P(AB)$</span>。
* <span style="color:red;">$P(A-B) = P(A) - P(AB)$</span>。

## 古典（等可能）概型

样本空间 $S$ 中的基本事件发生的可能性相同。

## <span style="color:orange;">条件概率</span>

在事件 $B$ 已经发生的条件下，事件 $A$ 发生的概率，记为 $P(A|B)$。

$P(A|B) = \frac{P(AB)}{P(B)}$。

可拓展：

* 乘法定理：
    **$P(AB) = P(A|B) P(B)$**

* 全概率公式：
    **$P(A) = \sum_{i=1}^n P(A|B_i) P(B_i)$**

* 贝叶斯公式：
    **$P(B_j|A) = \frac{P(A|B_j) P(B_j)}{\sum_{i=1}^n P(A|B_i) P(B_i)}$**

## <span style="color:orange;">独立性</span>

若 <span style="color:red;">$P(AB) = P(A) P(B)$</span>，则称事件 $A$ 与 $B$ 相互独立，反之亦然。

<br>


---

# 随机变量及其分布

## <span style="color:red;">题</span>

### 分布函数求概率密度

> 设随机变量 $X$ 的分布函数为：
> 
>$F(x) = \begin{cases}
    0,      & x < 1         \\ 
    \ln x,  & 1 \leq x < e  \\ 
    1,      & x \geq e      \\ 
\end{cases}$

> **Q1：求 $X$ 的概率密度函数 $f(x)$**

* 分段求导：
    * $x < 1$，$F(x) = 0$。$f^{'}(x) = 0$
    * $1 \leq x < e$，$F(x) = \ln x$。$f^{'}(x) = \frac{1}{x}$
    * $x \geq e$，$F(x) = 1$。$f^{'}(x) = 0$

    因此，有：
    $f(x) = \begin{cases}
    \frac{1}{x},    & 1 \leq x < e  \\
    0,              & 其他    
    \end{cases}$

> **Q2: 求 $P\{X < 2\}$，$P\{0 < X \leq 3\}$，$P\{2 < X < \frac{5}{2}\}$**

> 在概率论中，事件 `X<=2` 与事件 `x<2` 的概率是相等的。
> 这是因为在实数轴上，概率为零的点是可忽略的。
> 在连续型随机变量的情况下，单个点的概率为零。

* $P\{X < 2\} = P\{X \leq 2\} = F(2) = \ln 2$

* $P\{0 < X \leq 3\} = P\{X \leq 3\} - P\{X \leq 0\} = F(3) - F(0) = 1 - 0 = 1$

* $P\{2 < X < \frac{5}{2}\} = P\{X \leq \frac{5}{2}\} - P\{X \leq 2\} = F(\frac{5}{2}) - F(2) = \ln \frac{5}{2} - \ln 2 = \ln \frac{5}{4}$

### ? 概率密度求分布函数


### 正态分布

> 设 $X \sim N(3,2^2)$。（即 $X$ 服从 **正态分布**，均值为 $3$，方差为 $2^2$）

$\mu = 3$，$\sigma = 2$

$F(x) = \Phi (\frac{x - \mu}{ \sigma })$，其中 $\Phi$ 为标准正态分布的分布函数

> **Q1：求 $P\{2 < X \leq 5\}，P\{-4 < X \leq 10\}，P\{|X| > 2\}，P\{X > 3\}$**

* $P\{2 < X \leq 5\}$ 
    $= P\{X \leq 5\} - P\{X \leq 2\} = F(5) - F(2) $
    $= \Phi (\frac{5 - 3}{2}) - \Phi (\frac{2 - 3}{2}) = \Phi (1) - \Phi (-0.5) = 0.8413 - 0.3085 = 0.5328$

* $P\{-4 < X \leq 10\}$
    $= P\{X \leq 10\} - P\{X \leq -4\} = F(10) - F(-4) $
    $= \Phi (\frac{10 - 3}{2}) - \Phi (\frac{-4 - 3}{2}) = \Phi (3.5) - \Phi (-3.5) = 0.9998 - 0.0002 = 0.9996$

* $P\{|X| > 2\}$
    $= P\{X > 2\} + P\{X < -2\} = 1 - P\{X \leq 2\} + P\{X \leq -2\} $
    $= 1 - F(2) + F(-2) $
    $= 1 - \Phi (\frac{2 - 3}{2}) + \Phi (\frac{-2 - 3}{2}) $
    $= 1 - \Phi (-0.5) + \Phi (-2.5) = 1 - 0.3085 + 0.0062 = 0.6977$

* $P\{X > 3\}$
    $= 1 - P\{X \leq 3\} = 1 - F(3) $
    $= 1 - \Phi (\frac{3 - 3}{2}) = 1 - \Phi (0) = 1 - 0.5 = 0.5$

> **Q2：确定 $c$，使得 $P\{X > c\} = P \{ X \leq c \}$**

$P\{X > c\} = P \{ X \leq c \}$

即

$1 - P \{ X \leq c \} = P \{ X \leq c \}$ 

$P \{ X \leq c \} = \frac{1}{2}$

$\Phi (\frac{c - 3}{2}) = \frac{1}{2} = \Phi (0)$

$\frac{c - 3}{2} = 0$，$c = 3$

> **Q3：$P\{X > d\} \geq 0.9$，求 $d$ 的最大值**

$P\{X > d\} \geq 0.9$

即

$1 - P\{X \leq d\} \geq 0.9$

$P\{X \leq d\} \leq 0.1$

$\Phi (\frac{d - 3}{2}) \leq 0.1 = \Phi (-1.28)$

$\frac{d - 3}{2} \leq -1.28$

$d \leq 0.44$

### 分布律

> 设随机变量 $X$ 的分布律为：
>
> X | -2 | -1 | 0 | 1 | 3
> :-:|:-:|:-:|:-:|:-:|:-:
> p(X) | $\frac{1}{5}$ | $\frac{1}{6}$ | $\frac{1}{5}$ | $\frac{1}{15}$ | $\frac{11}{30}$
> 
> _

> **Q1：求$Y = X^2$ 的分布律**

* $Y = (-2)^2 = 4$
    $P\{Y = 4\} = P\{X^2 = 4\}$
    $= P\{X = -2\} = \frac{1}{5}$

* $Y = (-1)^2 = 1$
    $P\{Y = 1\} = P\{X^2 = 1\}$
    $= P\{X = -1\} + P\{X = 1\} = \frac{1}{6} + \frac{1}{15} = \frac{7}{30}$

* $Y = 0^2 = 0$
    $P\{Y = 0\} = P\{X^2 = 0\}$
    $= P\{X = 0\} = \frac{1}{5}$

* $Y = 3^2 = 9$
    $P\{Y = 9\} = P\{X^2 = 9\}$
    $= P\{X = 3\} = \frac{11}{30}$

因此，$Y$ 的分布律为：

Y | 0 | 1 | 4 | 9
:-:|:-:|:-:|:-:|:-:
p(Y) | $\frac{1}{5}$ | $\frac{7}{30}$ | $\frac{1}{5}$ | $\frac{11}{30}$


### 均匀分布




<br>

---



## 随机变量

随机变量就是随机试验结果的 **数值化**。

> 例如：抛硬币，正面为 1，反面为 0。
> 例如：选球，红球为 1，白球为 2，黑球为 3。

数值化后，更有利于建立数学模型，进行数学分析。

## （累计）分布函数

对于一个随机变量 $X$，其分布函数 $F(x)$ 定义为： 

$F(x) = P \{X \leq x\}$。

> $X \leq x$，$F(x)$ 就是 $X$ 的值小于等于 $x$ 的概率。
> 
> 具体的，假设我们在抛一个六面骰子，那么 $F(x)$ 就是：
> x | 1 | 2 | 3 | 4 | 5 | 6
> :-:|:-:|:-:|:-:|:-:|:-:|:-:
> F(x) | 1/6 | 2/6 | 3/6 | 4/6 | 5/6 | 6/6
> 
> F(3) 指，抛出的骰子的点数小于等于 3 的概率，即 1/2。
> F(4) 指，抛出的骰子的点数小于等于 4 的概率，即 2/3。

> [知乎](https://www.zhihu.com/question/26298175/answer/60140036) 上有一个更加形象的解释：
> 假设现在有全世界所有人的身高的分布，那么我们可以得到一个分布函数。
>
> 我的身高 $180$，那么 $F(180)$ =  $\frac{身高 <= 180 的人}{所有的人}$。
>
> 姚明身高 $226$，那么 $F(226)$ =  $\frac{身高 <= 226 的人}{所有的人}$。

其具有以下性质：

* 单调不减：$x_1 < x_2 \Rightarrow F(x_1) \leq F(x_2)$。
* $0 \leq F(x) \leq 1$。
* 由上可知，$F(x)$ 是一个概率，所以 $F(-\infty) = 0$，$F(+\infty) = 1$。

## 离散型随机变量及分布律

离散型随机变量：
* 指其取值为 **有限个** 数值的随机变量。
* 在取值上是有间隔的。
* 通常描述可以数出来、可以分隔的随机现象。

离散型随机变量的分布律：
* 是一个函数，描述了随机变量的取值和其概率的对应关系。
* 表示为：$P(X=x_i) = p_i$，满足：
    * 对于所有的 $i$，$p_i \geq 0$，即概率非负。
    * $\sum_i p_i = 1$，即概率和为 1。

> 例如，抛一个六面骰子，随机变量 $X$ 表示抛出的点数，那么 $X$ 的分布律为：
> X | 1 | 2 | 3 | 4 | 5 | 6
> :-:|:-:|:-:|:-:|:-:|:-:|:-:
> p(X) | 1/6 | 1/6 | 1/6 | 1/6 | 1/6 | 1/6

### 0-1 分布

设随机变量 $X$ 只能取 0 或 1 两个值，其分布律为：

X | 0 | 1
:-:|:-:|:-:
p(X) | 1-p | p

记作：

$ P \{ X=k \} = p^k (1-p)^{1-k}$，其中 $k=0,1 $ $(0<p<1)$。


### 伯努利试验

设试验 $E$ 只有两个可能结果：$A$（事件 $A$ 发生）和 $B$（事件 $A$ 不发生，也称 $\bar{A}$），且 $P(A) = p$，$P(B) = 1-p$，则称 $E$ 为一次伯努利试验。

### n重伯努利试验

将上述试验 $E$ 重复 $n$ 次，称为 $n$ 重伯努利试验。 

### 二项分布

二项分布是n重伯努利试验的概率分布。

设 $X$ 为 $n$ 重伯努利试验中事件 $A$ 发生的次数，则 $X$ 服从参数为 $n$ 和 $p$ 的二项分布，记为 $X \sim b(n,p)$。

二项分布的概率质量函数为：

$P \{ X=k \} = {n\choose k}p^k(1-p)^{n-k}$ 

其中，$k$表示成功的次数，$n$表示试验的总次数，$p$表示每次试验成功的概率。

特殊的，当 $n=1$ 时，二项分布就是 0-1 分布。

### ？ 泊松分布

## 连续型随机变量及概率密度函数

连续型随机变量：

* 指其取值为 **无限个** 数值的随机变量。
* 在取值上是无间隔的。

> 例如，

概率密度函数：

* 是一个函数，计算随机变量落在某个区间内的概率。

对于随机变量 $X$，存在非负可积函数 $f(x)$，使得对于任意实数 $x$，有：

$F(x) = P\{a \leq X \leq b\} = \int_a^b f(x)dx$

$x$ 为连续型随机变量，$f(x)$ 称为 $X$ 的概率密度函数。

### 均匀分布

若连续型随机变量 $X$ 的概率密度函数为：

$f(x) = \begin{cases} \frac{1}{b-a}, & a < x < b \\ 0, & \text{其他} \end{cases}$

则 $X$ 在区间 $(a,b)$ 上服从 **均匀分布**，记作 $X \sim U(a,b)$。

* 对于随机变量 $X$， 落在区间 $a,b$ 中任意 **等长度** 的子区间的概率相等。

* 概率密度函数为常数，区间内所有点的概率密度相等。


### ？ 指数分布

若连续型随机变量 $X$ 的概率密度函数为：

$f(x) = \begin{cases} \lambda e^{-\lambda x}, & x \geq 0 \\ 0, & x < 0 \end{cases}$


### 正态分布

若连续型随机变量 $X$ 的概率密度函数为：

$f(x) = \frac{1}{\sqrt{2\pi}\sigma} e^{-\frac{(x-\mu)^2}{2\sigma^2}}$，其中 $\mu$ 为均值，$\sigma$ 为标准差。

则 $X$ 服从 **正态分布**，记作 $X \sim N(\mu, \sigma^2)$。

### ？ 随机变量函数的分布


<br>

---

# 多维随机变量及其分布

## <span style="color:red;">题</span>

<br>

---

# 样本及抽样分布

样本是从总体中选择出来的一部分个体，以便对总体进行统计推断。
抽样分布是一种概率分布，描述了从同一总体中抽取的各个样本的统计量的分布情况。

## <span style="color:red;">题</span>

### $\chi^2$ （卡方）分布

> 设 $X_1, X_2, \cdots, X_6$ 是来自总体 $N(0,1)$ 的样本，$Y = (X_1+X_2+X_3)^2 + (X_4+X_5+X_6)^2$，试确定常数 $C$，使 $CY$ 服从 $\chi^2$ 分布。

$CY 服从 \chi^2$ 分布：

* ${(\sqrt{C}(X_1+X_2+X_3))}^2 + {(\sqrt{C}(X_4+X_5+X_6))}^2 \sim \chi^2(2)$。

同理：

* ${(\sqrt{C}(X_1+X_2+X_3))}^2 \sim \chi^2(1)$，${(\sqrt{C}(X_4+X_5+X_6))}^2 \sim \chi^2(1)$。

因为 $X_1, X_2, \cdots, X_6$ 是来自总体 $N(0,1)$ 的样本，所以：

* $X_1 + X_2 + X_3 \sim N(0,3)$，$X_4 + X_5 + X_6 \sim N(0,3)$。

为了将 $X_1 + X_2 + X_3$ 和 $X_4 + X_5 + X_6$ 的方差变为 1：

* 当前方差为3，即 $a^2+b^2+c^2=3$，所以 $a=b=c=1$。
* 令 $a^2+b^2+c^2=1$，所以 $a=b=c=\frac{1}{\sqrt{3}}$。

因此：

* $\frac{x_1+x_2+x_3}{\sqrt{3}} \sim N(0,1)$，$\frac{x_4+x_5+x_6}{\sqrt{3}} \sim N(0,1)$。

由 $\chi^2$ 分布的定义可知：

* ${(\frac{x_1+x_2+x_3}{\sqrt{3}})}^2 \sim \chi^2(1)$，${(\frac{x_4+x_5+x_6}{\sqrt{3}})}^2 \sim \chi^2(1)$。

因此：

* $\sqrt{C} = \frac{1}{\sqrt{3}}$，$C = \frac{1}{3}$。


### $t$ 分布

> 设 $X_1, X_2, \cdots, X_5$ 是来自总体 $N(0,1)$ 的样本，$Y = \frac{C(X_1 + X_2)}{{(X^2_3 + X^2_4 + X^2_5)^{\frac{1}{2}}}}$，试确定常数 $C$，使 $Y$ 服从 $t$ 分布。

* $Y = \frac{C(X_1 + X_2)}{ \sqrt{(X^2_3 + X^2_4 + X^2_5)}}$

因为 $X_1, X_2, \cdots, X_5$ 是来自总体 $N(0,1)$ 的样本，所以：

* $X_1 + X_2 \sim N(0,2)$

为了将 $X_1 + X_2$ 的方差变为 1：

* 当前方差为2，即 $a^2+b^2=2$，所以 $a=b=1$。
* 令 $a^2+b^2=1$，所以 $a=b=\frac{1}{\sqrt{2}}$。

因此：

* $\frac{x_1+x_2}{\sqrt{2}} \sim N(0,1)$。

由 $\chi^2$ 分布的定义可知：

* $X^2_3 + X^2_4 + X^2_5 \sim \chi^2(3)$。

由 $t$ 分布的定义可知：

* $Y = \frac{\frac{x_1+x_2}{\sqrt{2}}}{ \sqrt{\frac{X^2_3 + X^2_4 + X^2_5}{3}}} \sim t(3)$。

因此，整理一下：

* $Y = \frac{\frac{1}{\sqrt{2}}{(X_1+X_2)} }{ \frac{1}{\sqrt{3}} \sqrt{X^2_3+X^2_4 + X^2_5 }}$。

所以：

* $C = \frac{\sqrt{3}}{\sqrt{2}} = \frac{\sqrt{6}}{2}$。


### $F$ 分布

> 已知总体 $X \sim t(n)$，求证 $X^2 \sim F(1,n)$。

* $X \sim t(n)$，$X^2 \sim t^2(n)$。

由 $t$ 分布的定义可知：

* $X = \frac{Z}{\sqrt{\frac{Y}{n}}}$，其中 $Z \sim N(0,1)$，$Y \sim \chi^2(n)$。

<br>

* $X^2 = \frac{Z^2}{ Y / n}$。

由 $\chi^2$ 分布的定义可知：

* $Z^2 \sim \chi^2(1)$。

由 $F$ 分布的定义可知：

* $X^2 = \frac{Z^2}{ Y / n} = \frac{\chi^2(1) / 1}{\chi^2(n) / n} \sim F(1,n)$。


### 


<br>

---

## 总体

研究对象的全体，称为总体。

> 对全球所有人的身高进行研究，那么全球所有人的身高就是总体。

组成总体的每个对象，称为 **个体**，也称为 **样本单位**。
个体数量称为 **容量**，容量为有限的总体称为 **有限总体**，容量为无限的总体称为 **无限总体**。

> 每个人就是一个个体，全球所有人是有限总体。

## 简单随机样本

从总体中随机抽取的 $n$ 个个体组成的样本，称为简单随机样本。

具有以下特点：

* **等概率性**：每个个体被抽取的概率相等。
* **独立性**：每个个体被抽取与否不影响其他个体被抽取的概率。
* **随机性**：每个个体被抽取的概率是随机的。

## <span style="color:orange;">统计量</span>

统计量是样本的函数，用于对总体的未知参数进行估计。

**均值**

总体的平均水平。

$\overline{X} = \frac{1}{n} \sum_{i=1}^n X_i$

**样本方差**

样本的离散程度。

$S^2 = \frac{1}{n-1} \sum_{i=1}^n (X_i - \overline{X})^2$

> 使用 $n-1$ 而不是 $n$，是为了使得样本方差的期望等于总体方差。

**样本标准差**

样本的离散程度。

$S = \sqrt{S^2}$

**中位数**

样本的中间值，对抗极端值的影响。

$Me = \begin{cases} X_{(\frac{n+1}{2})}, & n \text{为奇数} \\ \frac{1}{2} (X_{(\frac{n}{2})} + X_{(\frac{n}{2}+1)}), & n \text{为偶数} \end{cases}$

## 三大分布

### $\chi^2$ （卡方）分布

若 $X_1, X_2, \cdots, X_n$ 相互独立，且都服从标准正态分布 $N(0,1)$，
则称随机变量 $Y = X_1^2 + X_2^2 + \cdots + X_n^2$ 服从自由度为 $n$ 的 $\chi^2$ 分布，记为 $Y \sim \chi^2(n)$。

**概率密度**：

$f(x) = \begin{cases} \frac{1}{2^{\frac{n}{2}} \Gamma(\frac{n}{2})} x^{\frac{n}{2}-1} e^{-\frac{x}{2}}, & x > 0 \\ 0, & x \leq 0 \end{cases}$

### $t$ 分布

设 $X \sim N(0,1)$，$Y \sim \chi^2(n)$，且 $X$ 与 $Y$ 相互独立，则称随机变量 

$Z = \frac{X}{\sqrt{\frac{Y}{n}}}$ 服从自由度为 $n$ 的 $t$ 分布，记为 $Z \sim t(n)$。

### $F$ 分布

设 $U \sim \chi^2(n)$，$V \sim \chi^2(m)$，且 $U$ 与 $V$ 相互独立，则称随机变量

$W = \frac{ U / n}{ V / m}$ 服从自由度为 $n$ 和 $m$ 的 $F$ 分布，记为 $W \sim F(n,m)$。